try{window.initFlipbook=function(e){var t=$("#pageflip");t.pageflipInit(e),window.isPrintCss=!1},function(){var e=function(e){var t={};$.extend(t,this.config,e),this.config=t,"string"==typeof this.config.el?($(document).on("mouseenter",this.config.el,this,this.events.show),$(document).on("mouseleave",this.config.el,this,this.events.hide)):this.config.el instanceof $&&(this.config.el.on("mouseenter",null,this,this.events.show),this.config.el.on("mouseleave",null,this,this.events.hide))};e.prototype.config={orientation:"top",background:"blue",color:"white",speed:0,margin:0,fixedY:null,text:!1},e.prototype.events={show:function(e){var o=$(this).data("tooltip")?$(this).data("tooltip"):e.data.config.text,i=$(this).data("tooltip-hidden")===!0;if(o&&!i){var r=e.data.config,a=t(o,r);$("body").after(a);var s=$(this)[0].getBoundingClientRect(),u=$(a).height(),c=parseInt($(a).width()/2,10)-parseInt(s.width/2,10),l={top:function(){var e=s.left-c,t=r.fixedY?r.fixedY()-r.margin:s.top-u-r.margin;$(a).css("transform",n(e,t))},bottom:function(){var e=s.left-c,t=r.fixedY?r.fixedY()+s.height+r.margin:s.top+s.height+r.margin;$(a).css("transform",n(e,t))}};l[r.orientation](),$(a).fadeIn(r.speed)}},hide:function(e){$(".tooltip-container").remove()}};var t=function(e,t){var n=$("<div></div>",{"class":"tooltip-container"}),o=$("<div></div>",{"class":"tooltip"}),i=$("<div></div>",{"class":"tooltip-text"}),r=$("<div></div>",{"class":"tooltip-triangle-"+t.orientation});return r.css("border-"+t.orientation+"-color",t.background),i.css("background-color",t.background),i.css("color",t.color),n.append(o.append(i.html(e)).append(r))},n=function(e,t){return"translate("+e+"px, "+t+"px)"};window.FlipbookTooltips=e}(),window.FlipbookCursorManager=function(e,t){var n=(e.cursorColor,e.incDirPath),o={zoomin:n+"inc/img/controlbar/zoomin.cur",zoomout:n+"inc/img/controlbar/zoomout.cur"};this.setCursor=function(e,t){e instanceof jQuery&&e.length>0&&e.each(function(){var e=$(this);switch(t){case"zoomin":case"zoomout":e.data("cursor")!==t&&(e.data("cursor",t),e.css("cursor","url('"+o[t]+"'), auto"));break;default:"auto"!==e.data("cursor")&&(e.css("cursor","auto"),e.data("cursor","auto"))}})};var i=function(){var e=function(e){$("<div></div>").css({position:"absolute",width:"0px",height:"1px",cursor:"url('"+e+"'), auto"}).appendTo($("body"))};$.each(o,function(t,n){e(n)})};i()},function(e){"use strict";function t(e){e=e||"",(e instanceof URLSearchParams||e instanceof t)&&(e=e.toString()),this[f]=r(e)}function n(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function(e){return t[e]})}function o(e){return e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,function(e){return decodeURIComponent(e)})}function i(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g&&(n[e.Symbol.iterator]=function(){return n}),n}function r(e){var t={};if("object"==typeof e)if(s(e))for(var n=0;n<e.length;n++){var i=e[n];if(!s(i)||2!==i.length)throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements");a(t,i[0],i[1])}else for(var r in e)e.hasOwnProperty(r)&&a(t,r,e[r]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var u=e.split("&"),c=0;c<u.length;c++){var l=u[c],d=l.indexOf("=");d>-1?a(t,o(l.slice(0,d)),o(l.slice(d+1))):l&&a(t,o(l),"")}}return t}function a(e,t,n){var o="string"==typeof n?n:null!==n&&void 0!==n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);u(e,t)?e[t].push(o):e[t]=[o]}function s(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var c=function(){try{if(e.URLSearchParams&&"bar"===new e.URLSearchParams("foo=bar").get("foo"))return e.URLSearchParams}catch(t){}return null}(),l=c&&"a=1"===new c({a:1}).toString(),d=c&&"+"===new c("s=%2B").get("s"),f="__URLSearchParams__",h=c?function(){var e=new c;return e.append("s"," &"),"s=+%26"===e.toString()}():!0,p=t.prototype,g=!(!e.Symbol||!e.Symbol.iterator);if(!(c&&l&&d&&h)){p.append=function(e,t){a(this[f],e,t)},p["delete"]=function(e){delete this[f][e]},p.get=function(e){var t=this[f];return this.has(e)?t[e][0]:null},p.getAll=function(e){var t=this[f];return this.has(e)?t[e].slice(0):[]},p.has=function(e){return u(this[f],e)},p.set=function(e,t){this[f][e]=[""+t]},p.toString=function(){var e,t,o,i,r=this[f],a=[];for(t in r)for(o=n(t),e=0,i=r[t];e<i.length;e++)a.push(o+"="+n(i[e]));return a.join("&")};var v=!d,m=!v&&c&&!l&&e.Proxy;Object.defineProperty(e,"URLSearchParams",{value:m?new Proxy(c,{construct:function(e,n){return new e(new t(n[0]).toString())}}):t});var b=e.URLSearchParams.prototype;b.polyfill=!0,b.forEach=b.forEach||function(e,t){var n=r(this.toString());Object.getOwnPropertyNames(n).forEach(function(o){n[o].forEach(function(n){e.call(t,n,o,this)},this)},this)},b.sort=b.sort||function(){var e,t,n,o=r(this.toString()),i=[];for(e in o)i.push(e);for(i.sort(),t=0;t<i.length;t++)this["delete"](i[t]);for(t=0;t<i.length;t++){var a=i[t],s=o[a];for(n=0;n<s.length;n++)this.append(a,s[n])}},b.keys=b.keys||function(){var e=[];return this.forEach(function(t,n){e.push(n)}),i(e)},b.values=b.values||function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},b.entries=b.entries||function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),i(e)},g&&(b[e.Symbol.iterator]=b[e.Symbol.iterator]||b.entries)}}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this),function(){window.FlipbookUrl=function(e,t){var n,o=e.singlePageMode;this.getPageNumberFromUrl=function(){if("undefined"===$.type(n)){var e,o=window.location.search;if("string"===$.type(o)&&o.length>0){var r=/page=([^&]*)/g,a=r.exec(o);if($.isArray(a)&&a.length>1){var s=a[1],u=parseInt(s,10);$.isNumeric(u)&&(e=i(u))}}"undefined"===$.type(e)&&(e=t.getFirstPageNumber()),n=e}return n},this.updateUrl=function(e){var t=e.split("-"),o=t[0],i=window.location.protocol+"//"+window.location.host+window.location.pathname,r=new URLSearchParams(window.location.search),a=["utm_campaign","utm_medium","utm_term","utm_source"],s={};a.forEach(function(e){r.has(e)&&(s[e]=r.get(e))});var u=new URLSearchParams(s).toString();u.length>0&&(u="&"+u);var c=parseInt(o,10);window.history&&"function"===$.type(window.history.pushState)&&$.isNumeric(c)&&("http:"!==location.protocol&&"https:"!==location.protocol||(n!=c?(window.history.pushState({pagenum:c},"",i+"?page="+c+u),n=c):window.history.replaceState({pagenum:c},"",i+"?page="+c+u)))};var i=function(e){var n=t.getFirstPageNumber(),i=t.getLastPageNumber();return n>e?e=n:e>i&&(e=i),!o&&e>1&&(e-=e%2),e},r=function(){$(window).on("popstate",function(e,o){if(window.history.state&&window.history.state.pagenum){var r=i(window.history.state.pagenum);r&&(n=r,t.gotoPageNumber(r,!0))}})};r()}}(),function(){var e=function(e){var t={};$.extend(t,this.config,e),this.config=t,$(document).on("mouseenter",this.config.el,this,this.events.show),$(document).on("mouseleave",this.config.el,this,this.events.hide)};e.prototype.config={delayBlinkTime:100,blinkTime:300,background:"blue"},e.prototype._blinkStart=function(){if("waiting"===this.data.status){var e=new Date-this.data.pageOpenTimestamp;e>=this.config.blinkTime&&(this.data.status="process",this.data.blinkTimestamp=new Date,$(this.config.el).css("background",this.config.background))}},e.prototype._blinkEnd=function(){if("process"===this.data.status){var e=new Date-this.data.blinkTimestamp;e>=this.config.blinkTime&&(this.data.status="done",$(this.config.el).css("background","transparent"))}},e.prototype.data={pageOpenTimestamp:null,blinkTimestamp:null,status:null},e.prototype.blink=function(){this.data.status&&"done"!==this.data.status||(this.data.pageOpenTimestamp=new Date),this.data.status="waiting"},e.prototype.OEF=function(){this.data.status&&"done"!==this.data.status&&(this._blinkStart(),this._blinkEnd())},e.prototype.events={show:function(e){$(this).css("opacity",.5),$(this).css("background",e.data.config.background)},hide:function(){$(this).css("background","transparent")}},window.FlipbookLinksFading=e}(),!function(e,t,n,o){"use strict";function i(e,t,n){return setTimeout(c(e,n),t)}function r(e,t,n){return Array.isArray(e)?(a(e,n[t],n),!0):!1}function a(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==o)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function s(t,n,o){var i="DEPRECATED METHOD: "+n+"\n"+o+" AT \n";return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=e.console&&(e.console.warn||e.console.log);return r&&r.call(e.console,i,o),t.apply(this,arguments)}}function u(e,t,n){var o,i=t.prototype;o=e.prototype=Object.create(i),o.constructor=e,o._super=i,n&&de(o,n)}function c(e,t){return function(){return e.apply(t,arguments)}}function l(e,t){return typeof e==pe?e.apply(t?t[0]||o:o,t):e}function d(e,t){return e===o?t:e}function f(e,t,n){a(v(t),function(t){e.addEventListener(t,n,!1)})}function h(e,t,n){a(v(t),function(t){e.removeEventListener(t,n,!1)})}function p(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return e.indexOf(t)>-1}function v(e){return e.trim().split(/\s+/g)}function m(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var o=0;o<e.length;){if(n&&e[o][n]==t||!n&&e[o]===t)return o;o++}return-1}function b(e){return Array.prototype.slice.call(e,0)}function y(e,t,n){for(var o=[],i=[],r=0;r<e.length;){var a=t?e[r][t]:e[r];m(i,a)<0&&o.push(e[r]),i[r]=a,r++}return n&&(o=t?o.sort(function(e,n){return e[t]>n[t]}):o.sort()),o}function _(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),a=0;a<fe.length;){if(n=fe[a],i=n?n+r:t,i in e)return i;a++}return o}function w(){return _e++}function k(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function T(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){l(e.options.enable,[e])&&n.handler(t)},this.init()}function P(e){var t,n=e.options.inputClass;return new(t=n?n:Te?O:Pe?H:ke?q:R)(e,x)}function x(e,t,n){var o=n.pointers.length,i=n.changedPointers.length,r=t&Ie&&o-i===0,a=t&(Me|$e)&&o-i===0;n.isFirst=!!r,n.isFinal=!!a,r&&(e.session={}),n.eventType=t,S(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function S(e,t){var n=e.session,o=t.pointers,i=o.length;n.firstInput||(n.firstInput=F(t)),i>1&&!n.firstMultiple?n.firstMultiple=F(t):1===i&&(n.firstMultiple=!1);var r=n.firstInput,a=n.firstMultiple,s=a?a.center:r.center,u=t.center=I(o);t.timeStamp=me(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=N(s,u),t.distance=$(s,u),C(n,t),t.offsetDirection=M(t.deltaX,t.deltaY);var c=B(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=ve(c.x)>ve(c.y)?c.x:c.y,t.scale=a?L(a.pointers,o):1,t.rotation=a?A(a.pointers,o):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,E(n,t);var l=e.element;p(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function C(e,t){var n=t.center,o=e.offsetDelta||{},i=e.prevDelta||{},r=e.prevInput||{};t.eventType!==Ie&&r.eventType!==Me||(i=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},o=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-o.x),t.deltaY=i.y+(n.y-o.y)}function E(e,t){var n,i,r,a,s=e.lastInterval||t,u=t.timeStamp-s.timeStamp;if(t.eventType!=$e&&(u>Fe||s.velocity===o)){var c=t.deltaX-s.deltaX,l=t.deltaY-s.deltaY,d=B(u,c,l);i=d.x,r=d.y,n=ve(d.x)>ve(d.y)?d.x:d.y,a=M(c,l),e.lastInterval=t}else n=s.velocity,i=s.velocityX,r=s.velocityY,a=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=a}function F(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ge(e.pointers[n].clientX),clientY:ge(e.pointers[n].clientY)},n++;return{timeStamp:me(),pointers:t,center:I(t),deltaX:e.deltaX,deltaY:e.deltaY}}function I(e){var t=e.length;if(1===t)return{x:ge(e[0].clientX),y:ge(e[0].clientY)};for(var n=0,o=0,i=0;t>i;)n+=e[i].clientX,o+=e[i].clientY,i++;return{x:ge(n/t),y:ge(o/t)}}function B(e,t,n){return{x:t/e||0,y:n/e||0}}function M(e,t){return e===t?Ne:ve(e)>=ve(t)?0>e?Ae:Le:0>t?Re:Oe}function $(e,t,n){n||(n=je);var o=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(o*o+i*i)}function N(e,t,n){n||(n=je);var o=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,o)/Math.PI}function A(e,t){return N(t[1],t[0],qe)+N(e[1],e[0],qe)}function L(e,t){return $(t[0],t[1],qe)/$(e[0],e[1],qe)}function R(){this.evEl=Ye,this.evWin=Ue,this.pressed=!1,T.apply(this,arguments)}function O(){this.evEl=Ze,this.evWin=Qe,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function z(){this.evTarget=Je,this.evWin=Ke,this.started=!1,T.apply(this,arguments)}function D(e,t){var n=b(e.touches),o=b(e.changedTouches);return t&(Me|$e)&&(n=y(n.concat(o),"identifier",!0)),[n,o]}function H(){this.evTarget=tt,this.targetIds={},T.apply(this,arguments)}function j(e,t){var n=b(e.touches),o=this.targetIds;if(t&(Ie|Be)&&1===n.length)return o[n[0].identifier]=!0,[n,n];var i,r,a=b(e.changedTouches),s=[],u=this.target;if(r=n.filter(function(e){return p(e.target,u)}),t===Ie)for(i=0;i<r.length;)o[r[i].identifier]=!0,i++;for(i=0;i<a.length;)o[a[i].identifier]&&s.push(a[i]),t&(Me|$e)&&delete o[a[i].identifier],i++;return s.length?[y(r.concat(s),"identifier",!0),s]:void 0}function q(){T.apply(this,arguments);var e=c(this.handler,this);this.touch=new H(this.manager,e),this.mouse=new R(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function W(e,t){e&Ie?(this.primaryTouch=t.changedPointers[0].identifier,Y.call(this,t)):e&(Me|$e)&&Y.call(this,t)}function Y(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var o=this.lastTouches,i=function(){var e=o.indexOf(n);e>-1&&o.splice(e,1)};setTimeout(i,nt)}}function U(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var i=this.lastTouches[o],r=Math.abs(t-i.x),a=Math.abs(n-i.y);if(ot>=r&&ot>=a)return!0}return!1}function X(e,t){this.manager=e,this.set(t)}function V(e){if(g(e,ct))return ct;var t=g(e,lt),n=g(e,dt);return t&&n?ct:t||n?t?lt:dt:g(e,ut)?ut:st}function Z(){if(!rt)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(o){t[o]=n?e.CSS.supports("touch-action",o):!0}),t}function Q(e){this.options=de({},this.defaults,e||{}),this.id=w(),this.manager=null,this.options.enable=d(this.options.enable,!0),this.state=ht,this.simultaneous={},this.requireFail=[]}function G(e){return e&bt?"cancel":e&vt?"end":e&gt?"move":e&pt?"start":""}function J(e){return e==Oe?"down":e==Re?"up":e==Ae?"left":e==Le?"right":""}function K(e,t){var n=t.manager;return n?n.get(e):e}function ee(){Q.apply(this,arguments)}function te(){ee.apply(this,arguments),this.pX=null,this.pY=null}function ne(){ee.apply(this,arguments)}function oe(){Q.apply(this,arguments),this._timer=null,this._input=null}function ie(){ee.apply(this,arguments)}function re(){ee.apply(this,arguments)}function ae(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(e,t){return t=t||{},t.recognizers=d(t.recognizers,se.defaults.preset),new ue(e,t)}function ue(e,t){this.options=de({},se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=P(this),this.touchAction=new X(this,this.options.touchAction),ce(this,!0),a(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ce(e,t){var n=e.element;if(n.style){var o;a(e.options.cssProps,function(i,r){o=_(n.style,r),t?(e.oldCssProps[o]=n.style[o],n.style[o]=i):n.style[o]=e.oldCssProps[o]||""}),t||(e.oldCssProps={})}}function le(e,n){var o=t.createEvent("Event");o.initEvent(e,!0,!0),o.gesture=n,n.target.dispatchEvent(o)}var de,fe=["","webkit","Moz","MS","ms","o"],he=t.createElement("div"),pe="function",ge=Math.round,ve=Math.abs,me=Date.now;de="function"!=typeof Object.assign?function(e){if(e===o||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==o&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var be=s(function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===o)&&(e[i[r]]=t[i[r]]),r++;return e},"extend","Use `assign`."),ye=s(function(e,t){return be(e,t,!0)},"merge","Use `assign`."),_e=1,we=/mobile|tablet|ip(ad|hone|od)|android/i,ke="ontouchstart"in e,Te=_(e,"PointerEvent")!==o,Pe=ke&&we.test(navigator.userAgent),xe="touch",Se="pen",Ce="mouse",Ee="kinect",Fe=25,Ie=1,Be=2,Me=4,$e=8,Ne=1,Ae=2,Le=4,Re=8,Oe=16,ze=Ae|Le,De=Re|Oe,He=ze|De,je=["x","y"],qe=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(k(this.element),this.evWin,this.domHandler)}};var We={mousedown:Ie,mousemove:Be,mouseup:Me},Ye="mousedown",Ue="mousemove mouseup";u(R,T,{handler:function(e){var t=We[e.type];t&Ie&&0===e.button&&(this.pressed=!0),t&Be&&1!==e.which&&(t=Me),this.pressed&&(t&Me&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Ce,srcEvent:e}))}});var Xe={pointerdown:Ie,pointermove:Be,pointerup:Me,pointercancel:$e,pointerout:$e},Ve={2:xe,3:Se,4:Ce,5:Ee},Ze="pointerdown",Qe="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Ze="MSPointerDown",Qe="MSPointerMove MSPointerUp MSPointerCancel"),u(O,T,{handler:function(e){var t=this.store,n=!1,o=e.type.toLowerCase().replace("ms",""),i=Xe[o],r=Ve[e.pointerType]||e.pointerType,a=r==xe,s=m(t,e.pointerId,"pointerId");i&Ie&&(0===e.button||a)?0>s&&(t.push(e),s=t.length-1):i&(Me|$e)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(s,1))}});var Ge={touchstart:Ie,touchmove:Be,touchend:Me,touchcancel:$e},Je="touchstart",Ke="touchstart touchmove touchend touchcancel";u(z,T,{handler:function(e){var t=Ge[e.type];if(t===Ie&&(this.started=!0),this.started){var n=D.call(this,e,t);t&(Me|$e)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:xe,srcEvent:e})}}});var et={touchstart:Ie,touchmove:Be,touchend:Me,touchcancel:$e},tt="touchstart touchmove touchend touchcancel";u(H,T,{handler:function(e){var t=et[e.type],n=j.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:xe,srcEvent:e})}});var nt=2500,ot=25;u(q,T,{handler:function(e,t,n){var o=n.pointerType==xe,i=n.pointerType==Ce;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(o)W.call(this,t,n);else if(i&&U.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var it=_(he.style,"touchAction"),rt=it!==o,at="compute",st="auto",ut="manipulation",ct="none",lt="pan-x",dt="pan-y",ft=Z();X.prototype={set:function(e){e==at&&(e=this.compute()),rt&&this.manager.element.style&&ft[e]&&(this.manager.element.style[it]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return a(this.manager.recognizers,function(t){l(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),V(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var o=this.actions,i=g(o,ct)&&!ft[ct],r=g(o,dt)&&!ft[dt],a=g(o,lt)&&!ft[lt];if(i){var s=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(s&&u&&c)return}return a&&r?void 0:i||r&&n&ze||a&&n&De?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ht=1,pt=2,gt=4,vt=8,mt=vt,bt=16,yt=32;Q.prototype={defaults:{},set:function(e){return de(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(r(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=K(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return r(e,"dropRecognizeWith",this)?this:(e=K(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(r(e,"requireFailure",this))return this;var t=this.requireFail;return e=K(e,this),-1===m(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(r(e,"dropRequireFailure",this))return this;e=K(e,this);var t=m(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,o=this.state;vt>o&&t(n.options.event+G(o)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),o>=vt&&t(n.options.event+G(o))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=yt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(yt|ht)))return!1;e++}return!0},recognize:function(e){var t=de({},e);return l(this.options.enable,[this,t])?(this.state&(mt|bt|yt)&&(this.state=ht),this.state=this.process(t),void(this.state&(pt|gt|vt|bt)&&this.tryEmit(t))):(this.reset(),void(this.state=yt))},process:function(e){},getTouchAction:function(){},reset:function(){}},u(ee,Q,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,o=t&(pt|gt),i=this.attrTest(e);return o&&(n&$e||!i)?t|bt:o||i?n&Me?t|vt:t&pt?t|gt:pt:yt}}),u(te,ee,{defaults:{event:"pan",threshold:10,pointers:1,direction:He},getTouchAction:function(){var e=this.options.direction,t=[];return e&ze&&t.push(dt),e&De&&t.push(lt),t},directionTest:function(e){var t=this.options,n=!0,o=e.distance,i=e.direction,r=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&ze?(i=0===r?Ne:0>r?Ae:Le,n=r!=this.pX,o=Math.abs(e.deltaX)):(i=0===a?Ne:0>a?Re:Oe,n=a!=this.pY,o=Math.abs(e.deltaY))),e.direction=i,n&&o>t.threshold&&i&t.direction},attrTest:function(e){return ee.prototype.attrTest.call(this,e)&&(this.state&pt||!(this.state&pt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=J(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),u(ne,ee,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&pt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),u(oe,Q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[st]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!o||!n||e.eventType&(Me|$e)&&!r)this.reset();else if(e.eventType&Ie)this.reset(),this._timer=i(function(){this.state=mt,this.tryEmit()},t.time,this);else if(e.eventType&Me)return mt;return yt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===mt&&(e&&e.eventType&Me?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=me(),this.manager.emit(this.options.event,this._input)))}}),u(ie,ee,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&pt)}}),u(re,ee,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ze|De,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(ze|De)?t=e.overallVelocity:n&ze?t=e.overallVelocityX:n&De&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ve(t)>this.options.velocity&&e.eventType&Me},emit:function(e){var t=J(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),u(ae,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ut]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&Ie&&0===this.count)return this.failTimeout();if(o&&r&&n){if(e.eventType!=Me)return this.failTimeout();var a=this.pTime?e.timeStamp-this.pTime<t.interval:!0,s=!this.pCenter||$(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e;var u=this.count%t.taps;if(0===u)return this.hasRequireFailures()?(this._timer=i(function(){this.state=mt,this.tryEmit()},t.interval,this),pt):mt}return yt},failTimeout:function(){return this._timer=i(function(){this.state=yt},this.options.interval,this),yt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.8",se.defaults={domEvents:!1,touchAction:at,enable:!0,inputTarget:null,inputClass:null,preset:[[ie,{enable:!1}],[ne,{enable:!1},["rotate"]],[re,{direction:ze}],[te,{direction:ze},["swipe"]],[ae],[ae,{event:"doubletap",taps:2},["tap"]],[oe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var _t=1,wt=2;ue.prototype={set:function(e){return de(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?wt:_t},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,o=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&mt)&&(i=t.curRecognizer=null);for(var r=0;r<o.length;)n=o[r],t.stopped===wt||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(pt|gt|vt)&&(i=t.curRecognizer=n),r++}},get:function(e){if(e instanceof Q)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(r(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(r(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=m(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==o&&t!==o){var n=this.handlers;return a(v(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==o){var n=this.handlers;return a(v(e),function(e){t?n[e]&&n[e].splice(m(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&le(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](t),o++}},destroy:function(){this.element&&ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},de(se,{INPUT_START:Ie,INPUT_MOVE:Be,INPUT_END:Me,INPUT_CANCEL:$e,STATE_POSSIBLE:ht,STATE_BEGAN:pt,STATE_CHANGED:gt,STATE_ENDED:vt,STATE_RECOGNIZED:mt,STATE_CANCELLED:bt,STATE_FAILED:yt,DIRECTION_NONE:Ne,DIRECTION_LEFT:Ae,DIRECTION_RIGHT:Le,DIRECTION_UP:Re,DIRECTION_DOWN:Oe,DIRECTION_HORIZONTAL:ze,DIRECTION_VERTICAL:De,DIRECTION_ALL:He,Manager:ue,Input:T,TouchAction:X,TouchInput:H,MouseInput:R,PointerEventInput:O,TouchMouseInput:q,SingleTouchInput:z,Recognizer:Q,AttrRecognizer:ee,Tap:ae,Pan:te,Swipe:re,Pinch:ne,Rotate:ie,Press:oe,on:f,off:h,each:a,merge:ye,extend:be,assign:de,inherit:u,bindFn:c,prefixed:_});var kt="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};kt.Hammer=se,"function"==typeof define&&define.amd?define(function(){return se}):"undefined"!=typeof module&&module.exports?module.exports=se:e[n]=se}(window,document,"Hammer"),window.makeObjectObservable=function(e){if("object"==typeof e){var t={};e.addEventHandler=function(e,n){$.isArray(t[e])||(t[e]=[]),t[e].push(n)},e._emitEvent=function(e,n){$.isArray(t[e])&&$.each(t[e],function(e,t){t(n)})}}},function(){var e=50,t=26,n=10,o=200;window.NavigationArrowsManager=function(i,r,a){var s,u,c,l,d,f,h,p=!0;this.init=function(){s=$("#Template-navigationButtons").html(),u=$(s),c=u.closest("#b-prev"),l=u.closest("#b-next"),d=u.closest("#b-first"),f=u.closest("#b-last"),v(),g(),$("#pf-stage").prepend(u)},this.setPosition=function(o){var r=i.getStageWidth(),a=i.getStageHeight(),s=i.getMargin(),u=i.getBookWidth(),p=i.getBookHeight(),g=i.getControlbarHeight(),v=r,b=a-2*s-g,y=(v-u*o)/2,_=(b-p*o)/2+s,w=o*p,k=o*u;h={prev:{left:y-e-n,top:_+w/2-e/2},first:{left:y-t-n-8,top:_+w-t},next:{left:y+k+n,top:_+w/2-e/2},last:{left:y+k+n+8,top:_+w-t}},m(c,h.prev),m(l,h.next),m(d,h.first),m(f,h.last)},this.shift=function(e,t){if("undefined"!==$.type(h)){var n,a=i.getPN(),s=i.getEndPN();"undefined"===$.type(s)&&(s=a);var u=i.getBookWidth(),g=i.getBookScale(),v=r.SinglePageMode;n=v?u/2:u/4;var b,y=i.getLastPageNumber(),_=Math.abs(e)===n&&!v,w=v&&(0===a||a===y-1);if(b=v?0:e*g,_||w){var k=!v&&e>0,T=v&&a===y-1;k||T?($.each([["next",l],["last",f]],function(e,t){p&&(a===y-1?t[1].hide():t[1].fadeOut(o))}),$.each([["prev",c],["first",d]],function(e,t){m(t[1],h[t[0]].left+b,h[t[0]].top),p&&0!==s&&t[1].fadeIn(o)})):($.each([["prev",c],["first",d]],function(e,t){p&&(0===a?t[1].hide():t[1].fadeOut(o))}),$.each([["next",l],["last",f]],function(e,t){m(t[1],h[t[0]].left+b,h[t[0]].top),p&&s!==y-1&&t[1].fadeIn(o)}))}else $.each([["prev",c],["first",d],["next",l],["last",f]],function(t,n){0!==s&&s!==y-1&&(m(n[1],h[n[0]].left+b,h[n[0]].top),p&&((0!==e||v)&&w||n[1].fadeIn(o)))}),p&&(v?0===a?(s!==y-1&&(l.css("display","block"),f.css("display","block")),c.css("display","none"),d.css("display","none")):a===y-1&&(0!==s&&(c.css("display","block"),d.css("display","block")),l.css("display","none"),f.css("display","none")):0!==e&&(0===a||2===a?(s!==y-1&&(l.css("display","block"),f.css("display","block")),c.css("display","none"),d.css("display","none")):(0!==s&&(c.css("display","block"),d.css("display","block")),l.css("display","none"),f.css("display","none"))))}},this.toggle=function(e){if(e){var t=i.getPN(),n=i.getLastPageNumber(),r=i.getEndPN();"undefined"===$.type(r)&&(r=t),0===t?(l.fadeIn(o),f.fadeIn(o)):t===n-1?(c.show(),d.show()):u.show(),p=!0}else u.hide(),p=!1};var g=function(){c.on("click",function(e){e.preventDefault(),i.gotoPrevPage(!0)}),l.on("click",function(e){e.preventDefault(),i.gotoNextPage(!0)}),d.on("click",function(e){e.preventDefault(),i.gotoFirstPage(!0),d.add(c).fadeOut(o)}),f.on("click",function(e){e.preventDefault(),i.gotoLastPage(!0),f.add(l).fadeOut(o)})},v=function(){if("string"===$.type(a.color)&&u.find("g").css("fill",a.color),"string"===$.type(a.hoverColor)){var e="mouseenter",t="mouseleave";if(i.getIsTouchDevice()){var n=i.getPfEvent();e=n.__onStart,t=n.__onEnd}u.each(function(){$(this).on(e,function(){$(this).find("g").css("fill",a.hoverColor)}),$(this).on(t,function(){$(this).find("g").css("fill",a.color)})})}},m=function(e,t,n){"undefined"!==$.type(t)&&"undefined"!==$.type(n)||(n=t.top,t=t.left),
e.css({transform:"translate("+Math.round(t)+"px, "+Math.round(n)+"px)"})};this.init()},window.NavigationArrowsManager.getSize=function(){return n+e}}(),window.AudioPlayer=function(e){var t={},n=1;this.init=function(){e&&$.each(e,function(e,o){if("undefined"!=typeof o&&"string"==typeof o.src){var i=new Audio;i.src=o.src,i.preload="auto",i.loop=!1,"number"==typeof o.volume?i.volume=o.volume:i.volume=n,t[e]=i}})},this.playSound=function(e){"undefined"!=typeof t[e]&&(t[e].paused||(t[e].pause(),t[e].currentTime=0),t[e].play())},this.init()},window.VideoManager=function(e){var t=this;window.makeObjectObservable(this),this.init=function(){e.addEventHandler("onLoad",n),e.addEventHandler("onFlip",o)};var n=function(e){var n=$("#page"+e),o="click";$(n).find(".youtube-player").each(function(){var e=$(this),n=$("<div></div>");e.parent().css({width:$(this).data("width"),height:$(this).data("height"),top:$(this).data("top"),left:$(this).data("left")}),n.html(i(e.data("id"))),n.on(o,function(){var e=n.parent();r(e,e.data("id")),t._emitEvent("onVideoFrameClick")}),e.append(n)}),$(n).find(".vimeo-player").each(function(){var e=$(this);$p=$("<div></div>"),$p.html('<img class="vimeo-thumb" src="'+e.data("thumb")+'">'),$p.append(s()),e.parent().css({width:$(this).data("width"),height:$(this).data("height"),top:$(this).data("top"),left:$(this).data("left")}),$p.on(o,function(e){var n=$(e.target).parent().parent();$(e.target).parent().children(".play-button").remove(),$(e.target).parent().append(u()),a(n,n.data("id")),t._emitEvent("onVideoFrameClick")}),e.append($p)})},o=function(){$(".video-iframe").remove(),$(".vimeo-video").remove(),$(".waiting").each(function(){var e=$(this).parent();$(this).remove(),e.append(s())})},i=function(e){return'<img class="video-thumb" src="//i.ytimg.com/vi/'+e+'/hqdefault.jpg"><div class="play-button"></div>'},r=function(e,t){var n=$("<div></div>").addClass("yt-video").attr("id","yt-"+t).attr("z-index","1");n.addClass("video-iframe"),e.append(n),ytPlayer=new YT.Player("yt-"+t,{videoId:t,width:parseInt(e.data("width")),height:parseInt(e.data("height")),playerVars:{enablejsapi:!0,autoplay:!0,rel:0,origin:window.location.protocol+"//"+window.location.host+"/"}})},a=function(e,t){var n=$("<div></div>").addClass("vimeo-video").attr("id","vimeo-"+t).attr("z-index","1");e.append(n),vimeoPlayer=new Vimeo.Player("vimeo-"+t,{title:!1,id:t,width:parseInt(e.data("width")),height:parseInt(e.data("height")),maxwidth:parseInt(e.data("width")),maxheight:parseInt(e.data("height")),byline:!1,portrait:!1}),vimeoPlayer.on("bufferend",function(){setTimeout(function(){n.addClass("video-iframe")},500)}),vimeoPlayer.play()},s=function(){return $('<div class="play-button"></div>')},u=function(){return $('<div class="waiting"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div>')};this.init()},window.SearchManager=function(e,t,n){var o,i=100,r=e.getPageInfoList();this.init=function(){},this.search=function(e,t){"undefined"===$.type(o)&&a();var n=[];return $.each(o,function(o,r){var a=r.innerText,u=s(a,e),c=[];$.each(u,function(n,o){var s,u,l="",d=i-e.length;if(d>6){var f,h,p,g=Math.floor((d-6)/2),v=o,m=a.length-e.length-o,b=v>g,y=m>g;b&&y?(s=o-g,u=o-1+e.length+g,f=!0,h=!0):b&&!y?(u=a.length-1,p=g-m,s=v>p+g?o-g-p:0,f=!0,h=!1):y&&!b?(s=0,p=g-v,u=m>p+g?o+e.length-1+g+p:a.length-1,f=!1,h=!0):(s=0,u=a.length-1,f=!1,h=!1),0>s&&(s=0),u>a.length-1&&(u=a.length-1);var _=a.substring(s,u+1);l=_.replace(new RegExp("("+e+")","gi"),"<div class='SearchResult-highlight'>$1</div>"),f&&(l="..."+l),h&&(l+="...")}else l="...<div class='"+t+"'>"+e+"</div>...",s=0,u=a.length-1;var w=!1;$.each(c,function(t,n){var i=n.snippetPositionLeftIdx,r=n.snippetPositionRightIdx;o>=i&&o+e.length-1<=r&&(w=!0)}),w||c.push({pageInfoObject:r,snippet:l,snippetPositionLeftIdx:s,snippetPositionRightIdx:u})}),n=n.concat(c)}),n};var a=function(){if(o=[],"undefined"!==$.type(window.flipbookSettings.content)){var e=window.flipbookSettings.content;$.each(r,function(t,n){if("string"===$.type(n.__ThumbnailImageUrl)&&"undefined"!==$.type(n.__PageNumber)&&n.__PageNumber>0){var i=n.__PageNumber;if("undefined"!==$.type(e[i])){var r=$.trim(e[i].replace(/\s+/g," ")),a={pageNumber:i,innerText:r,thumbnail:n.__ThumbnailImageUrl};o.push(a)}}})}},s=function(e,t){var n=[];if("string"===$.type(e)&&e.length>0&&"string"===$.type(t)&&t.length>0)for(var o=e.toLowerCase(),i=t.toLowerCase(),r=o.indexOf(i);-1!==r&&n.length<1e3;)n.push(r),r=o.indexOf(i,r+1);return n};this.init()},window.SearchScreenManager=function(e,t,n){var o,i,r,a,s,u,c,l,d,f,h=this,p=168,g=$("body"),v=!1,m=[],b=0;this.init=function(){r=$($("#Template-searchScreen").html()),s=r.find(".SearchScreen-closeButton"),i=$($("#Template-searchScreenRes").html()),u=r.find(".SearchScreen-inputField"),c=r.find(".SearchScreen-resultsOpaqueContent"),l=r.find(".SearchScreen-resultsBackground"),a=r.find(".SearchScreen-contentTransparent"),u.on("input",y);var e=new Hammer(s.find(".SearchScreen-closeButtonImg")[0]);e.on("tap",function(e){h.closeSearchScreen(),e.srcEvent.preventDefault()}),l.css("background-color",t.searchResultsBackground),a.css("background-color",t.searchScreenBackground),u.css({"background-color":t.searchInputBackground,color:t.searchInputText}),l.css({"background-color":t.searchResultsBackground}),c.css("color",t.searchResultsText),s.find("svg").css("color",t.color1),u.css("border","0"),c.css("color",t.searchResultsText),d=c.parent(),d.on("scroll",w)},this.openSearchScreen=function(){v||(g.append(r),"undefined"===$.type(o)&&(o=Math.ceil(c.height()/p)),c.html(""),u.val(""),b=0,u.focus(),v=!0)},this.closeSearchScreen=function(){v&&(r.detach(),v=!1)};var y=function(e){var t=$(e.target).val();c.html(""),b=0,t.length>2&&(m=n.search(t,"SearchScreenRes-highlight"),w())},_=function(e,n){n||e.css("border-bottom","1px solid "+t.searchResultsSeparator)},w=function(t){var n=d.scrollTop(),r=c.height(),a=(n+r)/d.prop("scrollHeight");if(a>.8&&b<m.length+1){var s=b;$.each(Array(o),function(t){var n=b+t;if(n<m.length){var o=m[n],r=i.clone(),a=r.find(".SearchScreenRes-thumbnail img");a.attr("src",o.pageInfoObject.thumbnail);var u=r.find(".SearchScreenRes-content");u.html(o.snippet);var l=n===m.length-1;if(_(r,l),c.append(r),"undefined"===$.type(f)){var d=r.find(".SearchScreenRes-container");f=d.innerWidth()-d.width()}r.css("padding-bottom",f+"px"),r.css("padding-top",f+"px");var p=new Hammer(r[0]);p.on("tap",function(){e.gotoPageNumber(o.pageInfoObject.pageNumber,!0),h.closeSearchScreen()}),s+=1}}),b=s}};h.init()},window.SearchTooltipManager=function(e,t,n,o){var i,r,a,s,u,c,l,d,f,h,p=this,g=[],v=0,m=30,b="click";window.makeObjectObservable(this),this.getMiniTooltip=function(){return i},this.getFullTooltip=function(){return r},this.toggleTooltipMini=function(e){o.toggleTooltip(i,e),e?(a.val(""),a.css("visibility","visible"),a.focus()):a.css("visibility","hidden")},this.toggleTooltipFull=function(e){o.toggleTooltip(r,e),e?s.css("visibility","visible"):s.css("visibility","hidden")};var y=function(){if(e.getIsTouchDevice()){var t=e.getPfEvent();b=b+" "+t.__onEnd}i=$(".ControlbarTooltip--searchMini"),r=$(".ControlbarTooltip--searchFull"),a=i.find(".SearchMini-input"),s=r.find(".SearchFull-input"),u=r.find(".SearchFull-noResults"),c=r.find(".SearchFull-results"),l=r.find(".SearchFull-closeButton"),d=r.find(".SearchFull-searchButton"),f=i.find(".SearchMini-searchButton"),h=$($("#Template-searchResult").html()),i.add(r).on("mousedown mouseup mousemove",function(e){e.stopPropagation()}),a.add(s).on("input",k),a.add(s).keypress(function(e){13===e.which&&k()}),f.add(d).on(b,function(e){k()}),l.on(b,function(){p._emitEvent("closeButtonClick")}),c.on("scroll",T),_()},_=function(){a.add(s).css({"background-color":t.searchInputBackground,color:t.searchInputText}),a.add(s).css("border","0"),c.css("color",t.searchResultsText),r.find(".SearchFull-resultsContainer").css({"background-color":t.searchResultsBackground}),u.css("color",t.searchResultsSeparator)},w=function(e){e.css("background-color",t.searchResultsBackground),e.css("border-bottom","1px solid "+t.searchResultsSeparator)},k=function(){var e="";e=i.hasClass("ControlbarTooltip--active")?a.val():s.val(),g=[],v=0,e.length>2?(g=n.search(e,"SearchResult-highlight"),p.toggleTooltipMini(!1),p.toggleTooltipFull(!0),s.val(e),s.focus(),s.val(""),s.val(e),c.empty(),g.length>0?(u.hide(),T()):u.show()):(c.empty(),u.show())},T=function(){var t=c.scrollTop(),n=c.height(),o=(t+n)/c.prop("scrollHeight");if(o>.8&&v<g.length+1){var i=v;$.each(Array(m),function(t){var n=v+t;if(n<g.length){var o=g[n],r=h.clone(),a=r.find(".SearchResult-thumbnail");a.append($("<img>").attr("src",o.pageInfoObject.thumbnail));var s=r.find(".SearchResult-content");s.html(o.snippet),w(r),c.append(r),r.on(b,function(){e.gotoPageNumber(o.pageInfoObject.pageNumber,!0),p.toggleTooltipFull(!1)}),i+=1}}),v=i}};y()},window.ControlBar=function(e,t,n,o){var i,r,a,s,u,c,l,d,f,h,p,g,v,m,b,y,_,w,k,T,P,x,S,C,E,F,I,B,M,N,A,L,R,O,z,D,H=this,j=$("#Template-controlBar"),q={color1:"#b7b7b7",color2:"#ebebeb",background:"#272727",pagerText:"#cccccc",tooltipBackground1:"#121212",tooltipBackground2:"#121212",print1:"#808080",print2:"#FFFFFF",print3:"#ffffff",search1:"#121212",searchScreenBackground:"#000000",searchInputBackground:"#121212",searchInputText:"#cccccc",searchResultsBackground:"#dfdfdf",searchResultsSeparator:"#4a4a4a",searchResultsText:"#4a4a4a"},W={},Y={color1:[".ControlBar-backToBeginningActiveImg svg",".ControlBar-backActiveImg svg",".ControlBar-forwardActiveImg svg",".ControlBar-forwardToEndActiveImg svg",".ControlBar-printButtonImg svg",".ControlBar-downloadButtonImg svg",".ControlBar-searchButtonImg svg",".ControlBar-menuButtonImg svg",".ControlBar-fullscreenButtonImg svg",".PrintMenu-iconImg svg",".SearchMini-searchButtonImg",".SearchFull-searchButtonImg"],color2:[".ControlBar-backToBeginningActiveImgHover svg",".ControlBar-backActiveImgHover svg",".ControlBar-forwardActiveImgHover svg",".ControlBar-forwardToEndActiveImgHover svg",".ControlBar-printButtonImgHover svg",".ControlBar-downloadButtonImgHover svg",".ControlBar-searchButtonImgHover svg",".ControlBar-menuButtonImgHover svg",".ControlBar-fullscreenButtonImgHover svg",".PrintMenu-iconImgHover svg",".SearchMini-searchButtonImgHover",".SearchFull-searchButtonImgHover"],print1:[".PrintMenu-iconImg",".PrintMenu-iconImgHover"],inactive:[".ControlBar-backToBeginningInactiveImg",".ControlBar-backInactiveImg",".ControlBar-forwardInactiveImg",".ControlBar-forwardToEndInactiveImg"]},U={color1:[".SearchFull-closeButtonImg"],color2:[".SearchFull-closeButtonImgHover"],print2:[".PrintMenu-iconImg svg"],print3:[".PrintMenu-iconImgHover svg"]},X=.6,V=t.zIndex?t.zIndex:2,Z="click",Q=!0,G=!0,J=5,K=t.useNavBarMinSizes,ee=t.navbarMinHeight,te=t.navbarMinWidth,ne=t.navBarTablet,oe=t.navBarMobile;this.init=function(){if(j.length>0){e.html(j.html()),i=e.children(".ControlBar"),r=i.children(".ControlBar-content"),i.css("z-index",V),s=$(".ControlBar-pageNavBar"),u=s.find(".ControlBar-backToBeginningActive"),c=s.find(".ControlBar-backToBeginningInactive"),l=s.find(".ControlBar-backActive"),d=s.find(".ControlBar-backInactive"),f=s.find(".ControlBar-forwardToEndActive"),h=s.find(".ControlBar-forwardToEndInactive"),p=s.find(".ControlBar-forwardActive"),g=s.find(".ControlBar-forwardInactive"),m=s.find(".ControlBar-pageInputContainer"),v=m.find(".ControlBar-pageInput"),a=$(".ControlBar-otherButtons"),b=a.find(".ControlBar-printButton"),y=a.find(".ControlBar-downloadButton"),_=a.find(".ControlBar-searchButton"),w=a.find(".ControlBar-menuButton"),k=a.find(".ControlBar-fullscreenButton"),t.fullScreenEnabled&&!n.getIsMobileDevice()||k.hide(),t.searchButtonEnabled||_.parent().hide(),t.printButtonEnabled&&!n.getIsMobileDevice()||b.parent().hide(),t.navigationButtonsEnabled||s.hide(),t.downloadButtonEnabled&&!n.getIsPhone()||y.hide(),t.thumbnailsButtonEnabled||w.hide(),z=r.innerWidth()-r.width(),E=a.innerWidth(),F=s.innerWidth(),D=r.outerWidth()-E-F,D-=z,F+z>te&&(te=F+z),t.touchControl&&("pointer"===t.touchType||n.getIsMobileDevice())||r.find(".ControlBar-button").addClass("ControlBar-button--hover"),T=u.add(l).add(f).add(p).add(b).add(y).add(_).add(w).add(k),P=a.find(".ControlbarTooltip--print"),P.on("mousedown mouseup",function(e){return e.stopPropagation(),!1}),ie();var o=se(),x={touchControl:o.touchControl,color1:o.color1,search1:o.search1,searchInputBackground:o.searchInputBackground,searchInputText:o.searchInputText,searchResultsBackground:o.searchResultsBackground,searchResultsSeparator:o.searchResultsSeparator,searchResultsText:o.searchResultsText,searchScreenBackground:o.searchScreenBackground};A=new window.SearchManager(n,x,r),!t.touchControl||"pointer"!==t.touchType&&!n.getIsMobileDevice()?R=new window.SearchTooltipManager(n,x,A,H):L=new window.SearchScreenManager(n,x,A),de()}},this.updatePage=function(){var e,o,i,r,a,s,u=n.getCurrentPageNumber(),c=n.getPageInfoList(),l=c[u],d=c[u+1];C=!1,l&&l.__PageNumber>0||(l=d,d=void 0),"undefined"!=typeof d&&d.__PageNumber>0||(C=!0),e=l.__PageName,i=l.__PageNumber,e?o=e:i>0&&(o=i),C||(r=d.__PageName,s=d.__PageNumber,r?a=r:s>0&&(a=s));var f=0;r||e||"number"===$.type(a)&&"number"===$.type(o)&&a>0&&o>0&&(f=1);var h,p,g=t.pagerText.split("~")[f].split("#");C?o&&(h=e?o:g[0]+o+g[1],p=o):(h=e&&r?o+" - "+a:e?o+" - "+g[0]+a+g[1]:r?g[0]+o+g[1]+" - "+a:g[0]+o+g[1]+a+g[2],p=o+"-"+a),p=encodeURI(p),he(h),H.adjustButtonsToScreenSize(),t.hashControl&&n.updateHash(p),le()},this.getHeight=function(){var e=0;return"undefined"!==$.type(J)&&(e=r.outerHeight()),e},this.adjustButtonsToScreenSize=function(){ne&&n.getIsTablet()?s.hide():oe&&n.getIsPhone()?s.hide():K===!0?ae():re()},this.toggleTooltip=function(e,t){var n=e.hasClass("ControlbarTooltip--active");"undefined"==typeof t&&(t=!n),t&&!n?e.addClass("ControlbarTooltip--active"):!t&&n&&e.removeClass("ControlbarTooltip--active")};var ie=function(){t.controlbarTooltipEnabled&&(O=new window.FlipbookTooltips({el:i.find("div.ControlBar-button[data-tooltip]"),color:t.controlbarTooltipColor,background:t.controlbarTooltipBackground,orientation:"top",margin:45,fixedY:function(){return $(document).height()-i.height()}}),i.find("div.ControlBar-button[data-tooltip]").on(Z,O.events.hide))},re=function(){var e=function(e){M?(l.hide(),d.toggle(e)):(l.toggle(e),d.hide()),N?(p.hide(),g.toggle(e)):(p.toggle(e),g.hide())},n=function(e){M?(u.hide(),c.toggle(e)):(u.toggle(e),c.hide()),N?(f.hide(),h.toggle(e)):(f.toggle(e),h.hide())},o=function(e){m.toggle(e)};"undefined"===$.type(I)&&(I=l.width()+p.width(),B=u.width()+I+f.width());var r=I+D+4,v=B+D+8,b=z+E+2,y=z+r+E,_=z+v+E,w=_+m.width()+8+6,k=$(window).width();b>k?Q&&(s.hide(),a.hide(),i.hide(),Q=!1,G=!1,J=void 0):k>=b&&y>k?0!==J&&(Q=!0,i.show(),a.show(),s.hide(),G=!1,J=0):k>=y&&_>k?2!==J&&(Q=!0,i.show(),e(!0),n(!1),o(!1),a.show(),t.navigationButtonsEnabled&&(s.show(),G=!0),J=2):k>=_&&w>k?4!==J&&(Q=!0,i.show(),e(!0),n(!0),o(!1),a.show(),t.navigationButtonsEnabled&&(s.show(),G=!0),J=4):5!==J&&(Q=!0,i.show(),e(!0),n(!0),o(!0),a.show(),t.navigationButtonsEnabled&&(s.show(),G=!0),J=5)},ae=function(){var e=$(window).width(),n=$(window).height();G&&(te>e||ee>n)?(s.hide(),G=!1,Q||i.hide()):G||e>te&&n>ee&&(t.navigationButtonsEnabled&&(s.show(),G=!0),i.is(":visible")||i.show());var o=F;G||(o=0),Q&&E+o>e?(a.hide(),G||i.hide(),Q=!1):!Q&&e>E+o&&(a.show(),i.is(":visible")||i.show(),Q=!0)},se=function(){W=$.extend({},q),"object"==typeof t.colors&&$.each(t.colors,function(e,t){W[e]=t}),W.inactive=ve(W.color1),$.each(Y,function(e,t){$.each(t,function(t,n){$(n).css("fill",W[e])})}),$.each(U,function(e,t){$.each(t,function(t,n){$(n).css("color",W[e])})}),r.css("background-color",W.background),v.css("color",W.pagerText);var e=P.add(x).add(S);return e.css("background-color",W.tooltipBackground1),e.find(".ControlbarTooltip-arrow").css("border-top","solid "+W.tooltipBackground1+" 10px"),$(".PrintMenu-choice").css("background-color",W.tooltipBackground2),$(".PrintMenu-caption").css("color",W.color1).hover(function(e){$(this).css("color","mouseenter"===e.type?W.color2:W.color1)}),W},ue=function(e){"undefined"===$.type(M)&&(M=l.is(":hidden")),M&&e?(J>=2&&(l.show(),d.hide()),J>=4&&(u.show(),c.hide())):M||e||(J>=2&&(l.hide(),d.show()),J>=4&&(u.hide(),c.show())),M=!e},ce=function(e){"undefined"===$.type(N)&&(N=p.is(":hidden")),N&&e?(J>=2&&(p.show(),g.hide()),J>=4&&(f.show(),h.hide())):N||e||(J>=2&&(p.hide(),g.show()),J>=4&&(f.hide(),h.show())),N=!e},le=function(){if(!t.navigationLoop){var e=n.getCurrentPageNumber();e>0?ue(!0):0===e&&ue(!1),e<n.getLastPageNumber()-1?ce(!0):e===n.getLastPageNumber()-1&&ce(!1)}},de=function(){T.not(w).on(Z,function(e){e.preventDefault(),n.hideThumbnails()}),r.on("mousedown mouseup",function(e){return e.stopPropagation(),!1}),u.on(Z,function(e){e.preventDefault(),n.gotoFirstPage(!0)}),l.on(Z,function(e){e.preventDefault(),n.gotoPrevPage(!0)}),p.on(Z,function(e){e.preventDefault(),n.gotoNextPage(!0)}),f.on(Z,function(e){e.preventDefault(),n.gotoLastPage(!0)}),fe(),pe(),y.on(Z,function(e){e.preventDefault(),n.download()}),w.on(Z,function(e){e.preventDefault(),n.getIsThumbnailMode()?(w.data("tooltip-hidden",!1),n.hideThumbnails()):(w.data("tooltip-hidden",!0),n.showThumbnails())}),T.not(w).on(Z,function(e){n.getIsThumbnailMode()&&n.hideThumbnails()}),k.on(Z,function(e){e.preventDefault(),n.getIsFullScreen()?n.exitFullScreen():n.enterFullScreen()}),ge()},fe=function(){var e,t=function(){var t=v.val(),o=parseInt(t,10);!isNaN(o)||o>n.getLastPageNumber()?n.gotoPageNumber(o,!0):v.val(e),he()};v.on("click",function(){v.focus()}),v.on("focus",function(){e=v.val(),v.val("")}),v.on("blur",t),v.keypress(function(e){13===e.which&&(n.getIsFullScreen()?t():v.trigger("blur"))})},he=function(e){"undefined"===$.type(e)&&(e=v.val());var t=35;e.length>5&&(t+=6*(e.length-5)),t+=2,m.css({width:t}),v.val(e)},pe=function(){var e=function(){H.toggleTooltip(P,!1),b.data("tooltip-hidden",!1)};b.on(Z,function(){C?(e(),n.printBoth()):(H.toggleTooltip(P),"undefined"!==$.type(R)&&(R.toggleTooltipMini(!1),R.toggleTooltipFull(!1)),b.data("tooltip-hidden",!0))}),_.add(w).add(y).add(k).on(Z,function(){H.toggleTooltip(P,!1)}),P.find(".PrintMenu-choice--left").on(Z,function(t){t.preventDefault(),n.printLeft(),e()}),P.find(".PrintMenu-choice--right").on(Z,function(t){t.preventDefault(),n.printRight(),e()}),P.find(".PrintMenu-choice--both").on(Z,function(t){t.preventDefault(),n.printBoth(),e()}),n.addEventHandler(["onPageChange","onZoomIn","onZoomOut","onLinkClicked"],e),v.on("focus",e),o.addEventHandler("onVideoFrameClick",e)},ge=function(){var e=!1,t=function(){e&&("undefined"===$.type(L)?(e=!1,_.data("tooltip-hidden",!1),"undefined"!==$.type(R)&&(R.toggleTooltipMini(!1),R.toggleTooltipFull(!1))):L.closeSearchScreen())},i=function(){e||("undefined"===$.type(L)?(e=!0,_.data("tooltip-hidden",!0),"undefined"!==$.type(R)&&R.toggleTooltipMini(!0)):L.openSearchScreen())};_.find("svg").on(Z,function(){e?t():i()}),b.add(w).add(y).add(k).on(Z,t),"undefined"!==$.type(R)&&R.addEventHandler("closeButtonClick",t),n.addEventHandler(["onPageChange","onZoomIn","onZoomOut","onLinkClicked"],t),v.on("focus",t),o.addEventHandler("onVideoFrameClick",t)},ve=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,o){return t+t+n+n+o+o});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),o=e;if($.isArray(n)&&n.length>3){var i=parseInt(n[1],16),r=parseInt(n[2],16),a=parseInt(n[3],16),s=0,u=0,c=0,l=X,d=Math.ceil(s*l)+Math.ceil(i*(1-l)),f=Math.ceil(u*l)+Math.ceil(r*(1-l)),h=Math.ceil(c*l)+Math.ceil(a*(1-l));o="#"+((1<<24)+(d<<16)+(f<<8)+h).toString(16).slice(1)}return o};this.init()};var _gaq=_gaq||[],userAgent=navigator.userAgent||navigator.vendor||window.opera;if(/Presto/i.test(userAgent)||/Android 2\./i.test(userAgent))throw new Error("use_fallback");if(function(e,t,n){"use strict";var o,i,r,a,s,u,c,l,d,f,h,p,g,v,m,b,y,_,w,k,T,P,x,S,C,E,F,I,B,M,$,N,A,L,R,O,z,D,H,j,q,W,Y,U,X,V,Z,Q,G,J,K,ee,te,ne,oe,ie,re,ae,se,ue,ce,le,de,fe,he,pe,pe,ge,ve,me,be,ye,_e,we,ke,Te,Pe,xe,Se,Ce,Ee,Fe,Ie,Be,Me,$e,Ne,Ae,Le,Re,Oe,ze,De,He,je,qe,We,Ye,Ue,Xe,Ve,Ze,Qe,Ge,Je,Ke,et,tt,nt,ot,it,rt,at,st,ut,ct,lt,dt,ft,ht,pt,gt,vt,mt,bt,yt,_t,wt,kt,Tt,Pt,xt,St,Ct,Et,Ft,It,Bt,Mt,$t,Nt,At,Lt,Rt,Ot,zt,Dt,Ht,jt,qt,Wt,Yt,Ut,Xt,Vt,Zt,Qt,Gt,Jt,Kt,en,tn,nn,on,rn,an,sn,un,cn,ln,dn,fn,hn,pn,gn,vn,mn,bn,yn,_n,wn,kn,Tn,Pn,xn,Sn,Cn,En,Fn,In,Bn,Mn,$n,Nn,An,Ln,Rn,On,zn,Dn,Hn,jn,qn,Wn,Yn,Un,Xn,Vn,Zn,Qn,Gn,Jn,Kn,eo,to,no,oo,io,ro,ao,so,uo,co,lo,fo,ho,po,go,vo,mo,bo,yo,_o,wo,ko,To,Po,xo,So,Co,Eo,Fo,Io,Bo,Mo,$o,No,Ao,Lo,Ro,Oo,zo,Do,Ho,jo,qo,Wo,Yo,Uo=!1,Xo=!1,Vo="",Zo=700,Qo=500,Go=!1,Jo={},Ko=!0,ei=700,ti=500,ni=!1,oi=!1,ii=oi,ri=!0,ai=!0,si=.1,ui=.3,ci=.15,li=.15,di=e(),fi={},hi=[],pi=Math,gi=pi.PI,vi=["left","right"],mi=!1,bi=!0,yi=pi.sin,_i=pi.asin,wi=pi.cos,ki=pi.sqrt,Ti=pi.abs,Pi=pi.floor,xi=pi.ceil,Si=pi.round,Ci=pi.random,Ei="auto",Fi=85,Ii=function(t){var o,Ke=.3;"string"===e.type(t.IncDirPath)&&(Vo=t.IncDirPath),r=t.IDs,a=t.DefaultID,i=t.Title||"flipbook",s=t.PageWidth||300,u=t.PageHeight||400,c=t.CoverWidth||s,l=t.CoverHeight||u,h="undefined"===e.type(t.HardCover)?!1:t.HardCover,p=t.HardPages||mi,d=t.StageWidth,f=t.StageHeight,v="undefined"===e.type(t.DoubleTapZoomSpeed)?18:t.DoubleTapZoomSpeed,U=t.VerticalMode||mi,$e=t.SinglePageDesktopMode||mi,Ne="undefined"===e.type(t.SinglePageMobileMode)?!0:t.SinglePageMobileMode,X=t.RightToLeft&&!U||mi,k=t.AutoScale||bi,T=t.FullScale||bi,P=t.FillScale||mi,x=t.UpScale||bi,t.CenterSinglePage="undefined"!==e.type(t.CenterSinglePage)?t.CenterSinglePage:!0,S="undefined"===e.type(t.AutoStageHeight)?mi:Boolean(t.AutoStageHeight),G="undefined"===e.type(t.ControlbarEnabled)?!0:Boolean(t.ControlbarEnabled),O="undefined"===e.type(t.SearchButtonEnabled)?bi:Boolean(t.SearchButtonEnabled),z="undefined"===e.type(t.PrintButtonEnabled)?mi:Boolean(t.PrintButtonEnabled),j="undefined"===e.type(t.ThumbnailsButtonEnabled)?bi:Boolean(t.ThumbnailsButtonEnabled),Uo=function(e){var t=/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e);return!(!t&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))}(userAgent),Xo=Boolean(userAgent.match(/iPad|Android|(?=.*\bWindows\b)(?=.*\bARM\b)/i));var et=32;Uo||Xo?(Ae=Ne,p&&(p=!1),Ae&&(et=10),"boolean"===e.type(t.ControlbarEnabledMobile)&&(G=t.ControlbarEnabledMobile)):Ae=$e,m="undefined"===e.type(t.Margin)?et:t.Margin,b="undefined"===e.type(t.MarginTop)?m:t.MarginTop,y="undefined"===e.type(t.MarginBottom)?m:t.MarginBottom,_="undefined"===e.type(t.MarginLeft)?m:t.MarginLeft,w="undefined"===e.type(t.MarginRight)?m:t.MarginRight,g=Ae?mi:Boolean(t.CenterSinglePage),F=Ae?bi:t.ScaleToSinglePage||mi,V=Ae?mi:t.AlwaysOpened||mi,Ge={},"undefined"!==e.type(t.FlippingSoundVolume)&&t.FlippingSoundVolume>0&&(Ge.pageFlipping={},Ge.pageFlipping.src="undefined"!==e.type(t.FlippingSoundSrc)?t.FlippingSoundSrc:Vo+"inc/sound/flip.mp3",Ge.pageFlipping.volume="undefined"!==e.type(t.FlippingSoundVolume)?t.FlippingSoundVolume:0),(T||P||x)&&(S=mi),C=t.AutoMaxHeight||mi,E=t.MaxHeightOffset||0,I=t.FlexibleContent||mi,o=t.FlexibleContentMinWidth,B=o==n?768:o,o=t.StartPage,M=o==n?1:o,$=t.MinPageLimit||0,$>M&&(M=$),N=t.MaxPageLimit,A=t.StartAutoFlip||!1,o=t.AutoFlipEnabled,L=o==n?!0:o,R="undefined"===e.type(t.FullScreenEnabled)?bi:Boolean(t.FullScreenEnabled),Ze="undefined"===e.type(t.BackgroundColor)?"#d4d4d4":t.BackgroundColor,Qe="undefined"===e.type(t.BackgroundImage)?null:Vo+t.BackgroundImage,q=t.AutoFlipInterval||2e3,o=t.AutoFlipLoop,W=o==n?!1:o,Y=t.NavigationLoop||mi,o=t.Preflip,Z=o==n?bi:o,Q=t.ControlbarToFront||bi,J="undefined"===e.type(t.Thumbnails)?bi:Boolean(t.Thumbnails),o=t.ThumbnailsLazyLoad,K=o==n?bi:o,o=t.ThumbnailsToFront,ee=o==n?mi:o,te=t.ThumbnailsAutoHide||0,ne=t.ThumbnailsHidden||bi,oe=t.ThumbnailWidth||60,ie=t.ThumbnailHeight||80,re=t.ThumbnailAlwaysCentered||mi,J||(j=!1),ae=t.Transparency||mi,o=t.PageCache,se=o==n?5:o,ue=t.NoFlipShadow||mi,o=t.DropShadow,ce=o==n?bi:o,o=t.Emboss,le=o==n?bi:o,o=t.DropShadowOpacity,de=o==n?.2:o,o=t.FlipTopShadowOpacity,fe=o==n?.2:o,o=t.FlipShadowOpacity,he=o==n?.2:o,o=t.EmbossOpacity,ge=o==n?.2:o,o=t.HardFlipShadowOpacity,pe=o==n?Ke:o,ve=t.PreflipArea||128,me=t.SecondaryDragArea||64,be=Ae?ve:t.InsideDragArea||0,ye=t.FlipDuration||400,_e=t.BookOffsetX||0,we=t.BookOffsetY||0,Ae&&(U?we-=l/2:X&&!Ae?_e+=c/2:_e-=c/2),ke=xt?t.PerformanceAware||mi:bi,Te=t.PagerText||"#~##",o=t.PagerSkip,Pe=o==n?bi:o,o=t.HashControl,Be=o==n?bi:o,o=t.ZoomEnabled,xe=o==n?bi:o,Se=t.ClickZoom||bi,o=t.ZoomFlip,Ce=o==n?mi:o,o=t.PinchZoom,Ee=o==n?mi:o,o=t.MouseControl,Fe=o==n?bi:o,Ie=t.GoogleAnalytics,Me=t.DisableSelection||bi,Le="undefined"!=typeof t.DownloadUrl?t.DownloadUrl:null,H="undefined"!=typeof t.DownloadButtonEnabled?t.DownloadButtonEnabled:!1,Le||(H=!1),Ue="undefined"!==e.type(t.LinksTooltipEnabled)?t.LinksTooltipEnabled:!1,Ue&&"undefined"!==e.type(rn)&&(Ue=!1),Oe=t.LinksTooltipColor||"#FFFFFF",ze=t.LinksTooltipBackground||"#333333",De=t.LinksTooltipText||"Click to open this link",He="undefined"!=typeof t.LinkFading?t.LinkFading:!1,je="undefined"!=typeof t.LinkShowPermanently?t.LinkShowPermanently:!1,qe=t.LinkBackground||"#0000ff",Ye="undefined"!=typeof t.ControlbarTooltipEnabled?t.ControlbarTooltipEnabled:!1,We="undefined"!==e.type(t.InvisibleLinks)?t.InvisibleLinks:!1,1==We&&(qe="transparent"),Xe=t.ControlbarTooltipColor||"#FFFFFF",Ve=t.ControlbarTooltipBackground||"#000000","undefined"!==e.type(t.MobileImageMaxHeight)&&(Zo=t.MobileImageMaxHeight),"undefined"!==e.type(t.MobileImageMaxWidth)&&(Qo=t.MobileImageMaxWidth),Go="undefined"!==e.type(t.NavigationArrowsEnabled)?t.NavigationArrowsEnabled:!1,D="undefined"!==e.type(t.NavigationButtonsEnabled)?t.NavigationButtonsEnabled:!Go,Jo.color="undefined"!==e.type(t.NavigationArrowsColor)?t.NavigationArrowsColor:"#b5b5b5",Jo.hoverColor="undefined"!==e.type(t.NavigationArrowsHover)?t.NavigationArrowsHover:"#ffffff",Re={},"undefined"!==e.type(t.ControlbarColor1)&&(Re.color1=t.ControlbarColor1),"undefined"!==e.type(t.ControlbarColor2)&&(Re.color2=t.ControlbarColor2),"undefined"!==e.type(t.ControlbarBackground)&&(Re.background=t.ControlbarBackground),"undefined"!==e.type(t.ControlbarPagerText)&&(Re.pagerText=t.ControlbarPagerText),"undefined"!==e.type(t.ControlbarTooltipBackground1)&&(Re.tooltipBackground1=t.ControlbarTooltipBackground1),"undefined"!==e.type(t.ControlbarTooltipBackground2)&&(Re.tooltipBackground2=t.ControlbarTooltipBackground2),"undefined"!==e.type(t.ControlbarPrint1)&&(Re.print1=t.ControlbarPrint1),"undefined"!==e.type(t.ControlbarPrint2)&&(Re.print2=t.ControlbarPrint2),"undefined"!==e.type(t.ControlbarPrint3)&&(Re.print3=t.ControlbarPrint3),"undefined"!==e.type(t.ControlbarSearch1)&&(Re.search1=t.ControlbarSearch1),"undefined"!==e.type(t.ControlbarSearchScreenBackground)&&(Re.searchScreenBackground=t.ControlbarSearchScreenBackground),"undefined"!==e.type(t.ControlbarSearchInputBackground)&&(Re.searchInputBackground=t.ControlbarSearchInputBackground),"undefined"!==e.type(t.ControlbarSearchInputText)&&(Re.searchInputText=t.ControlbarSearchInputText),"undefined"!==e.type(t.ControlbarSearchResultsBackground)&&(Re.searchResultsBackground=t.ControlbarSearchResultsBackground),"undefined"!==e.type(t.ControlbarSearchResultsSeparator)&&(Re.searchResultsSeparator=t.ControlbarSearchResultsSeparator),"undefined"!==e.type(t.ControlbarSearchResultsText)&&(Re.searchResultsText=t.ControlbarSearchResultsText),"undefined"!==e.type(t.ZoomCursorColor)&&(Je=t.ZoomCursorColor),"undefined"!==e.type(t.ZoomCursorEnabled)&&(ai=t.ZoomCursorEnabled),"undefined"!==e.type(t.NavbarMinHeight)&&(ei=t.NavbarMinHeight),"undefined"!==e.type(t.NavbarMinWidth)&&(ti=t.NavbarMinWidth),"undefined"!==e.type(t.UseNavBarMinSizes)&&(ni=t.UseNavBarMinSizes),"undefined"!==e.type(t.NavBarMobile)&&(oi=t.NavBarMobile,ii=oi),"undefined"!==e.type(t.ChangeQualityOnMobile)&&(ri=t.ChangeQualityOnMobile)},Bi=function(){bt=yt=0,_t=1,fo=mi,Fi*=2,ln=Fi+10,dn=2,cn=ln/dn,fn=cn+10,un=ln/gi,Mi()},Mi=function(){vt=2*c,mt=1*l,U&&(vt=c,mt=2*l),Ae&&(vt=c,mt=l),wt=c>s||l>u,kt=2*xi(Wr(s,u)/2),Tt=2*xi(Wr(c,l)/2),hn=U?1:2,pn=3-hn,gn=U?-1:1},$i=function(){Zt=[],Qt=[],Kt=[],Gt=[],Jt=[]},Ni=function(){St=mi,Et=[],Do=[],Nt=4,Rt=mi,Ot=mi,zt=mi,Dt=mi,Ht=mi,Yt=Ut=Xt=Vt=0,vn=mn=bn=yn=_n=wn=kn=Tn=n},Ai=function(){Kt=[],Qt=[],Gt=[],nt.empty(),Yi()},Li=function(t){$i();for(var n,o,i,r,a,s,u,c=0,l=0,d=0,f=1,p=mi;l<t.length;l++)o=e(t[l]),n=o.attr("class"),i="cover"===n,s=Ae&&X,i&&(p=i),r="outerpage"===n,Ae&&(r=!1),a=r||i,(i||"page"===n||r)&&(0!=c||r||V?Ae&&!X&&Di(d++,Hi(e("<div class='page'></div>"),!0,i,void 0,d)):s||Di(d++,{__PageNumber:0,__notEmpty:mi}),0===c&&r&&(V=mi),u=Hi(o,r,i,a,d),"undefined"===e.type(u.__PageNumber)?u.__PageNumber=f++:u.__PageNumber>0&&(f=u.__PageNumber+1),Di(d++,u),s&&Di(d++,Hi(e("<div class='page'></div>"),!0,i,void 0,d)),c++);if(gt=d-1,h){var g=Zt[gt];"undefined"!==e.type(g)&&(g.__isHard=!0)}zi(),X&&Zt.reverse(),p||(wt=mi),rs($,N),ns()},Ri=function(t,n,o){n=n||pt,o=o||mi,0!=n||V||n++;for(var i,r,a,s,u,c,l=0,d=0,f=mi;d<t.length;d++)r=e(t[d]),a="cover"==(i=r.attr("class")),a&&(f=a),s="outerpage"==i,u=s||a,(a||"page"==i||s)&&(c=Hi(r,s,a,u,d),gt++,Zt.splice(n,0,c),l++);zi(),rs(),ns(),Ai()},Oi=function(e,t,n){e=e||pt,t=t||1,n=n||mi,0!=e||V||e++,Zt.splice(e,t),gt-=t,zi(),rs(),ns(),pt>gt&&(pt=gt-gt%2),0>pt&&(pt=0),Ai()},zi=function(){gt%2==0&&(Zt[gt].__notEmpty?Di(++gt,{__PageNumber:0,__notEmpty:mi}):(Zt.splice(gt,1),gt--))},Di=function(e,t){Zt[e]=t},Hi=function(t,n,o,i,r){n=n||mi,o=o||1===r,o||"undefined"===e.type(N)||(o=Ae?r===N-2:r===N-1),i=i||mi;var a=t.data(),d=a.disableEmbossing,f=p||a.hard===!0;h&&o&&(f=!0);var g={__Unload:!(a.unload==mi),__BackgroundFiles:[],__HtmlFile:a.htmlFile,__HtmlData:t.html(),__ThumbnailImageUrl:a.thumbnailImage,__ThumbnailImage:void 0,__DisableEmbossing:"undefined"===e.type(d)?!le:d,__TransparentPage:a.transparentPage==bi,__RemovablePage:a.removablePage==bi,__PageNumber:n?0:a.pageNumber,__PageName:a.pageName,__PageLabel:a.pageLabel,__AutoFlipInterval:a.autoFlipInterval,__Data:a.data,__renderWidth:i?c:s,__renderHeight:i?l:u,__maskSize:o?Tt:kt,__isHard:f,__isCover:i,__outer:n,__notEmpty:bi};return"undefined"!==e.type(a.backgroundFileDesktop)&&g.__BackgroundFiles.push({
type:"desktop",url:a.backgroundFileDesktop,set:!1}),"undefined"!==e.type(a.backgroundFileMobile)&&g.__BackgroundFiles.push({type:"mobile",url:a.backgroundFileMobile,set:!1}),g.__isHard&&(g.__DisableEmbossing=bi),g.__isLoaded=!g.__HtmlFile,g},ji=function(e){kn=e>kn?e:kn},qi=function(e){_n=e>_n?e:_n},Wi=function(){var e=_e-(g&&!U?Si((kn-_n)/2):0),t=we-(g&&U?Si((kn-_n)/2):0);Go&&.01>zn&&lt.shift(e,t),bt==e&&yt==t||(Pt=!0,bt=e,yt=t,ot.css({transform:qr(bt,yt)}))},Yi=function(){var t=Qt,o=Kt,i=[],r=[],a=[],s=[],u=[],f=pt,g=pt+1;if(_n=kn=mn=yn=0,Ct=[],St){0>Ft?f=$t:g=$t+1;for(var v,m,b=0;b<Et.length;b++)v=Et[b].__startPagePN,m=Et[b].__endPagePN,Zt[v].__flip=Zt[m].__flip=Zt[m].__animated=bi,Zt[v].__animated=mi,1!=Et[b].__flipType?(Ct.splice(0,0,v),Ct.push(m)):(Ct.splice(b,0,m),Ct.splice(b,0,v)),Et[b].__started||(u.push({e:0,p:v}),u.push({e:0,p:m}),Et[b].__started=bi),Zt[v].__onTop&&(Ss(3,v),Zt[v].__onTop=mi),Zt[m].__onTop&&(Ss(3,m),Zt[m].__onTop=mi)}Kt=[];for(var y=f,_=Zt[y].__notEmpty,w=_?se:0;y>=0;)_||Zt[y].__isCover&&!Zt[y].__outer&&wt?(i.push(y),_=ae&&Zt[y].__TransparentPage):w>0&&(Zt[y].__notEmpty&&Kt.push(y),Zt[y+1].__notEmpty&&Kt.push(y+1),w--),!_&&0==w&&y>4?y=2:y-=2;var k=g;for(_=Zt[k].__notEmpty,w=_?se:0;gt>=k;)_||Zt[k].__isCover&&!Zt[k].__outer&&wt?(r.push(k),_=ae&&Zt[k].__TransparentPage):w>0&&(Zt[k-1].__notEmpty&&Kt.push(k-1),Zt[k].__notEmpty&&Kt.push(k),w--),!_&&0==w&&gt-4>k?k=gt-2:k+=2;Qt=[];for(var T,P,x=i.length,S=r.length,C=x>S?x:S,b=0;C>b;b++)S>b&&(P=r[b],T=Zt[P],ji(U?T.__renderHeight:T.__renderWidth),T.__outer||(yn=kn),Qt.splice(0,0,P),T.__flip=mi,0!=b||St?T.__onTop&&(Ss(3,P),T.__onTop=mi):T.__onTop||(u.push({e:2,p:P}),T.__onTop=bi)),x>b&&(P=i[b],T=Zt[P],qi(U?T.__renderHeight:T.__renderWidth),T.__outer||(mn=_n),Qt.splice(0,0,P),Zt[i[b]].__flip=mi,0!=b||St?T.__onTop&&(Ss(3,P),T.__onTop=mi):T.__onTop||(u.push({e:2,p:P}),T.__onTop=bi));vn=_n,bn=kn,St?Qt=Qt.concat(Ct):Wi(),(!St||h&&!ke)&&St||er(mn,yn);for(var b=0;b<Qt.length;b++)P=Qt[b],t.lastIndexOf(P)<0&&a.push(P);a=a.concat(Kt);for(var b=0;b<t.length;b++)P=t[b],Qt.lastIndexOf(P)<0&&s.push(P);for(var b=0;b<o.length;b++)P=o[b],Kt.lastIndexOf(P)<0&&Qt.lastIndexOf(P)<0&&s.push(P);for(var E,b=0;b<s.length;b++)E=s[b],R=Gt.lastIndexOf(E),P=Zt[E],P.__onTop&&(Ss(3,E),u.push({e:3,p:E}),T.__onTop=mi),P.__Unload!==mi?(R>=0&&Gt.splice(R,1),Ss(5,E),P.$p.remove(),P.__masked&&(P.__masked=mi,P.$m.remove(),P.$fsc&&P.$fsc.remove()),P.$hts&&(P.$hts.remove(),P.$hts=n)):0>R&&(P.__masked&&Ji(E),P.$p.css("display","none"),Gt.push(E),u.push({e:7,p:E}));var F,I,B,M,$,N,A,L,R,O;e.each(Array(a.length),function(t){F=a[t],R=Gt.lastIndexOf(F),O=Kt.lastIndexOf(F),R>=0?0>O&&(Gt.splice(R,1),Zt[F].$p.css("display",""),u.splice(0,0,{e:8,p:F})):(0>O&&u.splice(0,0,{e:8,p:F}),nt.append(Mr(F)),I=Zt[F].$p=Nr(F),u.splice(0,0,{e:4,p:F}),M=Zt[F].__renderWidth,$=Zt[F].__renderHeight,U?(A=(c-M)/2,N=F%2?l:l-$,L=Ei):Ae?(N=(l-$)/2,A=F%2?c/2:c-M,L=F%2?c-M:Ei):(N=(l-$)/2,A=F%2?Ei:c-M,L=F%2?c-M:Ei),I.css({position:"absolute",overflow:"hidden",width:M,height:$,top:N,left:A,right:L}),B=Zt[F].$c=Ar(F),"undefined"!==e.type(d)&&Gi(F),B.html(Zt[F].__HtmlData),Zt[F].__HtmlFile&&B.load(Zt[F].__HtmlFile,"GET"),Zt[F].__isCover||Zt[F].__DisableEmbossing||(B.after($r("pf-emboss-"+(F%2?"right":"left"),"page"+F+"emboss")),Lr(F).css({position:"absolute",overflow:"hidden",width:U?$/7:M/7,height:U?M:$,top:U?F%2?-M/2:$-M/2:0,left:U?F%2?"50%":Ei:F%2?0:Ei,right:U?F%2?Ei:"50%":F%2?Ei:0,"transform-origin":U?F%2?"0% 50%":"100% 50%":"",transform:U?"rotate(90deg)":"",opacity:ge})),O>=0&&(I.css("display","none"),Gt.push(F),u.push({e:7,p:F})))});for(var F,z,I,M,$,b=0,D=2;b<Qt.length;b++)if(F=Qt[b],z=Zt[F],I=z.$p,M=z.__renderWidth,$=z.__renderHeight,z.__flip&&z.__masked)!ue&&z.__animated&&z.$fsc.css({"z-index":D++}),z.$m.css({"z-index":D++});else if(z.__flip&&!z.__masked)if(2==It){var H=D++;I.css({"z-index":H,"transform-origin":U?F%2?"50% 0%":"50% 100%":F%2?"0% 50%":"100% 50%","backface-visibility":"hidden"}),F%2==0&&(h&&F-1===1||p)&&Ae&&I.css("display","none"),ue||z.$hts||(z.$c.after($r("pf-hard-topshadow","page"+F+"hardtopshadow")),z.$hts=jr(F),z.$hts.css({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,"+pe+")"}))}else{I.wrap($r("pf-mask","page"+F+"mask")),z.$m=Rr(F);var j=z.__maskSize,q=-z.__animated;z.$m.css({position:"absolute",right:U?Ei:"50%",top:U?l-j:(l-j)/2,left:U?(c-j)/2:Ei,width:j,height:j,"transform-origin":U?"50% 100%":"100% 50%",overflow:"hidden"}),I.css({top:U?Ei:(j-$)/2,bottom:U?F%2?-$:0:Ei,left:Ei,right:U?(j-M)/2:F%2?-M:0,"z-index":""}),ue||q&&(z.$c.after($r("pf-flip-topshadow","page"+F+"fliptopshadow")),z.$fts=Hr(F),z.$fts.css({position:"absolute",top:($-j)/2,left:M/2-fn,width:fn,height:j,"transform-origin":"100% 50%",overflow:"hidden",opacity:fe}),z.$m.before($r("pf-flip-shadow-container","page"+F+"flipshadowcontainer",$r("pf-flip-shadowA","page"+F+"flipshadowA")+$r("pf-flip-shadowB","page"+F+"flipshadowB"))),z.$fsc=Or(F),z.$fsA=zr(F),z.$fsB=Dr(F),Ki(F,D++,$,M,j)),z.$m.css({"z-index":D++}),z.__masked=bi}else!z.__flip&&z.__masked?(Ji(F),I.css("z-index",D++)):(z.$hts&&(z.$hts.remove(),z.$hts=n),I.css("z-index",z.__outer?0:D++));for(b=0;b<u.length;b++)Ss(u[b].e,u[b].p);yr(),J&&za(),Ui()},Ui=function(t){ai&&("number"!==e.type(zn)||St||Do&&Do.length>0||Et&&Et.length>0?ht.setCursor(e(".pf-page-cursoroverlay")):zn>.02&&"undefined"===e.type(t)||"zoomout"===t?ht.setCursor(e(".pf-page-cursoroverlay"),"zoomout"):(.02>zn&&"undefined"===e.type(t)||"zoomin"===t)&&(1>_t?ht.setCursor(e(".pf-page-cursoroverlay"),"zoomin"):ht.setCursor(e(".pf-page-cursoroverlay")))),je&&(e("a.pf-hotspot").css("opacity",.5),e("a.pf-hotspot").css("background",qe))},Xi=function(){e.each(Zt,function(t,n){"undefined"!==e.type(n.$p)&&n.$p.length>0&&Gi(t)})},Vi=function(e,t){e.css({"background-image":"none"}),setTimeout(function(){e.css({"background-image":"url('"+t+"')","background-size":"100% auto"})},50)},Zi=function(e,t){var n=24,o=n;if(t){var i=_t+On*zn;o=n/i}e.css({"background-image":'url("'+Vo+'inc/img/loader.gif")',"background-color":"white","background-repeat":"no-repeat","background-position":"50% 50%","background-size":o+"px "+o+"px"})},Qi=function(t,n){var o=function(n){var i;if("undefined"===e.type(Zt[n].__ThumbnailImage)){if(i=e.Deferred(),t.css("background-image")!=='url("'+Vo+'inc/img/loader.gif")'&&Zi(t,!1),"undefined"!==e.type(Zt[n].__ThumbnailImageUrl)){var r=Zt[n].__ThumbnailImageUrl,a=new Image;a.onload=i.resolve.bind(i,a),a.src=r,a.loadingPromise=i,a.onerror=function(){setTimeout(function(){o(n).done(function(e){Zt[n].__ThumbnailImage=e,i.resolve(e)})},500)}}}else"resolved"!==Zt[n].__ThumbnailImage.loadingPromise.state()&&t.css("background-image")!=='url("'+Vo+'inc/img/loader.gif")'&&Zi(t,!1),i=Zt[n].__ThumbnailImage.loadingPromise;return i};return o(n)},Gi=function(t){var n=function(o,i,r){"undefined"===e.type(hi[o])&&(hi[t]={});var a;if("undefined"===e.type(hi[o][i])){a=e.Deferred(),Zi(e("#page"+o),!0);var s=new Image;s.onload=a.resolve.bind(a,s),s.src=r,s.loadingPromise=a,s.onerror=function(){setTimeout(function(){n(o,i,r).done(function(e){hi[o][i]=e,a.resolve(e)})},500)}}else"resolved"!==hi[o][i].loadingPromise.state()&&Zi(e("#page"+o)),a=hi[o][i].loadingPromise;return a},o=[];o="undefined"===e.type(t)?[pt,pt+1]:[t],e.each(o,function(o,i){if("undefined"!==e.type(Zt[i])&&"undefined"!==e.type(Zt[i].__BackgroundFiles)){var r=Zt[i].__BackgroundFiles;if(r.length>0){var a=0;if(r.length>1&&(Ko||(a=1)),!r[a].set||i!==pt&&i!==pt+1){!r[a].set&&r.length>1&&(r[Math.abs(a-1)].set=!1);var s=r[a].type,u=r[a].url;n(t,s,u).done(function(){Vi(e("#page"+i),r[a].url),r[a].set=!0})}}}})},Ji=function(e){var t=Zt[e],o=t.$p,i=t.__renderWidth,r=t.__renderHeight;o.unwrap();var a=U?Ei:e%2?Ei:c-i;Ae&&(a=e%2?c/2:c-i),o.css({top:U?e%2?l:l-r:(l-r)/2,left:a,right:U?(c-i)/2:e%2?c-i:Ei,"transform-origin":"","backface-visibility":""}),t.$fsc&&(t.$fsc.remove(),t.$fsc=t.$fsA=t.$fsB=n),t.$fts&&(t.$fts.remove(),t.$fts=n),t.__masked=mi},Ki=function(e,t,n,o,i){var r=U?(c-o)/2:c-o;Ae&&(r=-c/2),Zt[e].$fsc.css({"z-index":t++,position:"absolute",top:U?l-n:(l-n)/2,left:r,width:U?o:2*o,height:U?2*n:n,overflow:"hidden",opacity:he}),Zt[e].$fsA.css({position:"absolute",top:U?n-i:n/2-i,right:U?o/2:o,width:fn,height:2*i,"transform-origin":"100% 50%",overflow:"hidden"}),Zt[e].$fsB.css({position:"absolute",top:U?n-i/2:(n-i)/2,left:U?o/2:o,width:fn,height:i,"transform-origin":"0% 50%",overflow:"hidden"})},er=function(e,t){if(di.length>0&&(e!==wn||t!==Tn)){wn=e,Tn=t;var n=(e+t)/(U?mt:vt);U?it.css("transform",qr(0,mt/2-e)+"scaleY("+n+")"):it.css("transform",qr(vt/2-e,0)+"scaleX("+n+")")}},tr=function(e,t,n,o,i,r,a,s){if(Ht)return mi;a=a||e,s=s||t;var u=Et.length,c=Mt,r=r||2,i=i||0;if(u>=Nt)return mi;if(c=0==u?pt:$t,r+=r%2,0>o&&$>c-r)return mi;if(o>0&&c+r>N)return mi;var l,d=c+(o>0?1:0),f=c+(r-(0>o?1:0))*o;if(l=Zt[d].__isHard||Zt[f].__isHard?2:i,0==u)St=bi,Ft=o,It=l,Ss("onFlippingSequenceStarted");else if(Ft!=o||It!=l)return mi;0!==n&&1!==n&&4!==n||Ss("onAutoFlippingSequenceStarted"),Bt=n,Mt=c,$t=c+r*o;var h=1==It;return Et[u]=rr({__startPN:Mt,__endPN:$t,__startPagePN:h?f:d,__endPagePN:h?d:f,__flipMode:n,__flipType:It,__dir:o,__started:mi,__success:mi},e,t),Yi(),(a||s)&&ar(Et[u],a*gn,s),bi},nr=function(e,t,n,o,i){return n=n||e.__dir,e.__dir!=n||0==e.__flipMode||4==e.__flipMode||5==e.__flipMode||0==t||1==t?mi:(Bt=e.__flipMode=t,ar(e,o,i),bi)},or=function(e){var t=e.__startPagePN,n=e.__endPagePN,o=Zt[t].$p,i=Zt[n].$p;Zt[t].__flip=Zt[t].__animated=Zt[n].__flip=Zt[n].__animated=mi,i.css({transform:qr(0,0)+"rotate(0deg) "}),o.css({transform:qr(0,0)+"rotate(0deg) "})},ir=function(e){var t=Et[e];t.__success?(pt=t.__endPN,Ss("onBeforePageChange",t.__startPN),Ss("onPageChange",pt)):Ht=mi,Ss(1,t.__startPagePN),Ss(1,t.__endPagePN),or(t),Et.splice(e,1),St=0!=Et.length,St&&e>0&&(Mt=Et[e-1].__startPN,$t=Et[e-1].__endPN),t.__success&&(Ss(0===Bt||1===Bt?"onAutoFlippingSequenceEnded":"onManualFlippingSequenceEnded"),Ss("onPageChangingComplete"))},rr=function(e,t,n){var o=e.__endPagePN,i=Zt[o].__renderWidth,r=Zt[o].__renderHeight;return 2==e.__flipMode&&(U?(t*=r*e.__dir/n,n=r*e.__dir,-i/2>t&&(t=-i/2),t>i/2&&(t=i/2)):(n*=i*e.__dir/t,t=i*e.__dir,-r/2>n&&(n=-r/2),n>r/2&&(n=r/2))),e.__side=o%2?1:-1,e.__sx=U?-t:-i*e.__side,e.__sy=U?-r*e.__side:n,e.__cx=U?0:-i/2*e.__side,e.__cy=U?-r/2*e.__side:0,e.__ax=U?-t:-i*(0>t?1:-1),e.__ay=U?-r*(0>n?1:-1):n,e},ar=function(e,t,o,i){t=t||e.__ax,o=o||e.__ay;var r=e.__startPagePN,a=e.__endPagePN,s=Zt[r].$p,u=Zt[r].$m,c=Zt[a].$p,l=Zt[a].$m,d=Zt[r].__renderWidth,f=Zt[r].__renderHeight,h=d/2,p=f/2,g=Ft*(1==It?-1:1),v=e.__sx,m=e.__sy,b=e.__cx,y=e.__cy,_=U?o==e.__ex?n:o<e.__ex?-1:1:t==e.__ex?n:t<e.__ex?-1:1;if(e.__ex=U?o:t,2!=It)if(U){var w=ki(o*o+(h+t)*(h+t)),k=ki(o*o+(h-t)*(h-t)),T=ki(f*f+(h+v)*(h+v)),P=ki(f*f+(h-v)*(h-v));if((w>T||k>P)&&5!=e.__flipMode)if(v>t){var x=h-t,S=_i(x/k);t=h-yi(S)*P,o=wi(S)*P*(0>o?-1:1),t>v&&(m*o>0?(o=m,t=v):(o=-m,t=v))}else{var x=h+t,S=_i(x/w);t=yi(S)*T-h,o=wi(S)*T*(0>o?-1:1),v>t&&(m*o>0?(o=m,t=v):(o=-m,t=v))}(0>m&&20>o-m||m>0&&20>m-o)&&!i&&(0>m&&(o=-f+20),m>0&&(o=f-20))}else{var w=ki(t*t+(p+o)*(p+o)),k=ki(t*t+(p-o)*(p-o)),T=ki(d*d+(p+m)*(p+m)),P=ki(d*d+(p-m)*(p-m));if((w>T||k>P)&&5!=e.__flipMode)if(m>o){var x=p-o,S=_i(x/k);o=p-yi(S)*P,t=wi(S)*P*(0>t?-1:1),o>m&&(v*t>0?(o=m,t=v):(o=m,t=-v))}else{var x=o+p,S=_i(x/w);o=yi(S)*T-p,t=wi(S)*T*(0>t?-1:1),m>o&&(v*t>0?(o=m,t=v):(o=m,t=-v))}(0>v&&20>t-v||v>0&&20>v-t)&&!i&&(0>v&&(t=-d+20),v>0&&(t=d-20))}i?(e.__ax=t,e.__ay=o):(e.__ax+=(t-e.__ax)/5,e.__ay+=(o-e.__ay)/5,Ti(t-e.__ax)<.5&&Ti(o-e.__ay)<.5&&(e.__ax=t,e.__ay=o),t=e.__ax,o=e.__ay);var C=U?o/f*cn:t/d*cn;if(-cn>C&&(C=-cn),C>cn&&(C=cn),0>C&&qi(-yi(C/un)*(U?f:d)),C>0&&ji(yi(C/un)*(U?f:d)),t!=e.__lx||o!=e.__ly){if(2==It){var g=Ft*(0>C?1:-1),E=cn*Ft,F=U?"rotateX":"rotateY",I=3e3;if(0>g)if(xt){var B={transform:F+"("+(ln+E+C)*gn+"deg) "+qr(0,0)};s.css(B);var M={transform:F+"("+cn+"deg) "+qr(I,I)};c.css(M)}else{var $=-(cn-Ti(C))/5*Ft;s.css({transform:U?"scaleY("+yi(Ft*C/un)+") skewX("+$+"deg) "+qr(0,0):"scaleX("+yi(Ft*C/un)+") skewY("+$+"deg) "+qr(0,0)}),c.css({transform:qr(I,I)})}else if(xt){var M={transform:F+"("+(ln-E+C)*gn+"deg) "+qr(0,0)};c.css(M);var B={transform:F+"("+cn+"deg) "+qr(I,I)};s.css(B)}else{var $=(cn-Ti(C))/5*Ft;c.css({transform:U?"scaleY("+yi(-Ft*C/un)+") skewX("+$+"deg) "+qr(0,0):"scaleX("+yi(-Ft*C/un)+") skewY("+$+"deg) "+qr(0,0)}),s.css({transform:qr(I,I)})}ue||(0>g?Zt[r].$hts.css("opacity",(1-Ti(yi(C/un))+1-Ti(C/90))/2):Zt[a].$hts.css("opacity",(1-Ti(yi(C/un))+1-Ti(C/90))/2)),e.__ax=t,e.__ay=o}else if(U){var N=v-t,A=m-o,L=v-b,R=m-y,O=ki(N*N+A*A),S=_i(N/O)||0,z=ki(L*L+R*R),x=_i(L/z);(0>A||0==A&&0>g)&&(S=gi-S),0>R&&(x=gi-x),x=S-(x-S);var D=wi(x)*z+o,H=yi(x)*z+t,j=(H-b)/2,q=(D-y)/2,W=b+j,Y=y+q,X=ki(j*j+q*q);0>q&&(X*=-1);var V=S*un,Z=6;c.css({transform:qr(0,((p+X)*g).toFixed(Z))+"rotate("+V+"deg) "}),l.css({transform:qr(-W.toFixed(Z),Y.toFixed(Z))+"rotate("+V+"deg)"}),s.css({transform:qr(-(yi(-S)*g).toFixed(Z),((-p-X+1*wi(-S))*g).toFixed(Z))+"rotate("+-V+"deg) "}),u.css({transform:qr((-W).toFixed(Z),(Y-1*g).toFixed(Z))+"rotate("+V+"deg)"});var Q=Ti(wi(S)*p)-X*g,G=yi(-S)*h+Q,J=yi(S)*h+Q,K=(G+J)/2,ee=1;if(Q=G>J?G:J,e.__sl=Q,!ue){Q/=f,K/=f;var te=.05>K?.05:K;.2>K&&(K=Q),.2>K&&(ee=5*K),K>.9&&(ee=1-10*(K-.9));var ne=Q;ne>.6&&(ne=ne>.8?.6-1*(ne-.8):.6+.1*yi((ne-.6)/.2*gi));var oe=.5+ee/2;Zt[a].$fsA.css({transform:qr((-W).toFixed(5),Y.toFixed(5))+"rotate("+(V+90)+"deg) scaleX("+6*te+")",opacity:oe.toFixed(5)}),Zt[a].$fsB.css({transform:qr((-W).toFixed(5),Y.toFixed(5))+"rotate("+(V+90)+"deg) scaleX("+3*Q+")",opacity:ee.toFixed(5)}),Zt[a].$fts.css({transform:"rotate("+(-V+90)+"deg) "+qr((-X*g).toFixed(5),0)+"scaleX("+4*ne+")",opacity:(ee*fe).toFixed(5)})}e.__lx=t,e.__ly=o}else{var N=v-t,A=m-o,L=v-b,R=m-y,O=ki(N*N+A*A),S=_i(A/O)||0,z=ki(L*L+R*R),x=_i(R/z);(0>N||0==N&&0>g)&&(S=gi-S),0>L&&(x=gi-x),x=S-(x-S);var H=wi(x)*z+t,D=yi(x)*z+o,j=(H-b)/2,q=(D-y)/2,W=b+j,Y=y+q,X=ki(j*j+q*q);0>j&&(X*=-1);var V=S*un,Z=6;c.css({transform:qr(((h+X)*g).toFixed(Z),0)+"rotate("+V+"deg) "}),l.css({transform:qr(W.toFixed(Z),Y.toFixed(Z))+"rotate("+V+"deg)"}),s.css({transform:qr(((-h-X+1*wi(-S))*g).toFixed(Z),(yi(-S)*g).toFixed(Z))+"rotate("+-V+"deg) "}),u.css({transform:qr((W-1*g).toFixed(Z),Y.toFixed(Z))+"rotate("+V+"deg)"});var Q=Ti(wi(S)*h)-X*g,G=yi(-S)*p+Q,J=yi(S)*p+Q,K=(G+J)/2,ee=1;if(Q=G>J?G:J,e.__sl=Q,!ue){Q/=d,K/=d;var te=.05>K?.05:K;.2>K&&(K=Q),.2>K&&(ee=5*K),K>.9&&(ee=1-10*(K-.9));var ne=Q;ne>.6&&(ne=ne>.8?.6-1*(ne-.8):.6+.1*yi((ne-.6)/.2*gi));var oe=.5+ee/2;Zt[a].$fsA.css({transform:qr(W.toFixed(5),Y.toFixed(5))+"rotate("+V+"deg) scaleX("+6*te+")",opacity:oe.toFixed(5)}),Zt[a].$fsB.css({transform:qr(W.toFixed(5),Y.toFixed(5))+"rotate("+V+"deg) scaleX("+3*Q+")",opacity:ee.toFixed(5)}),Zt[a].$fts.css({transform:"rotate("+-V+"deg) "+qr((-X*g).toFixed(5),0)+"scaleX("+4*ne+")",opacity:(ee*fe).toFixed(5)})}e.__lx=t,e.__ly=o}return _}},sr=function(e,t,n,o,i,r,a){e.__stx=e.__ax,e.__sty=e.__ay,e.__tx=t,e.__ty=n,e.__duration=o,e.__styleX=i,e.__styleY=r,e.__start=lr().getTime(),e.__r=a},ur=function(e){var t=lr().getTime()-e.__start,n=e.__duration,o=mi;t>=n&&(o=bi,t=n);var i=t/n,r=e.__tx-e.__stx,a=e.__ty-e.__sty,s=e.__stx+cr(e.__styleX,i,r,e.__r),u=e.__sty+cr(e.__styleY,i,a,e.__r);return{x:s,y:u,end:o}},cr=function(e,t,n,o){switch(e){case 0:return n*t;case 1:return yi(gi*t/2)*n;case 2:return(1-wi(gi*t/2))*n;case 3:return(1-wi(gi*t))/2*n;case 4:return yi(2*gi*t)*o;case 5:return yi(gi*t)*o;case 6:return wi(2*gi*t)*o;case 7:return wi(gi*t)*o}},lr=function(){return new Date},dr=mi,fr=function(){if(Pn&&raf(fr),Do.length>0&&ms(),St){var e;_n=mn,kn=yn;for(var t=0;t<Et.length;t++)switch(e=Et[t],e.__flipMode){case 1:break;case 2:case 3:jt=ar(e,At*gn,Lt);break;case 0:case 4:var n=ur(e);ar(e,n.x,n.y,bi),n.end&&(ir(t),Yi(),nn&&Dt&&(br(Et[Et.length-1]),_r()),Pt||vr(),t--);break;case 5:var n=ur(e);ar(e,n.x,n.y,bi),n.end&&(ir(t),Yi(),t--)}St&&(h&&!ke&&er(_n,kn),qi(vn),ji(bn),Wi())}J&&Oa(),ha(),tn&&He&&tn.OEF()},hr=function(t){if(!e(t.target).hasClass("pf-hotspot")&&(on=!t||!t.type||"mousedown"!==t.type,"undefined"===e.type(qt)&&(dr=mi,Wt=void 0,qt=+new Date,!Dt&&!Rt&&Fe))){Tr(t),ea=zn;var n=Sr(At,Lt,zt);if(n&&as())switch(_r(),Yr(t),n){case"TL":case"BL":zt||Ot?nr(Et[Et.length-1],2,-1)&&(zt=Ot=mi,Dt=bi):tr(At,Lt,2,-1,0)&&(Dt=bi);break;case"TR":case"BR":zt||Ot?nr(Et[Et.length-1],2,1)&&(zt=Ot=mi,Dt=bi):tr(At,Lt,2,1,0)&&(Dt=bi)}else if(n=Er(At,Lt),n&&as())switch(_r(),Yr(t),n){case"OL":tr(At,Lt,2,-1,1)&&(Dt=bi);break;case"IR":tr(U?0>At?-Yt:Yt:-fn,U?-fn:0>Lt?-Ut:Ut,2,-1,Ae?1:0)&&(Dt=bi);break;case"OR":tr(At,Lt,2,1,1)&&(Dt=bi);break;case"IL":tr(U?0>At?-Xt:Xt:fn,U?fn:0>Lt?-Vt:Vt,2,1,Ae?1:0)&&(Dt=bi)}else{if(An||!$n||!Br(t))return bi;if("pf-hotspot"===t.target.className)return!0;so=bi,dr=mi;var o=xr(t,!1);if("undefined"!==e.type(o)){var i=Pr(nn,o.x,o.y,!0);isNaN(i.x)||isNaN(i.y)||ya(i.x,i.y)}}}},pr=function(t){if(!(t&&t.type&&"mousemove"===t.type&&on))if(nn||(uo=t.pageX,co=t.pageY),nn||!$n||so||!Br(t)){if(dr=bi,!Rt&&Fe)if((Dt||zt||so||Sn)&&Yr(t),Tr(t),An||!so){var o=Sr(At,Lt,zt);if(zt&&!nn)o||br(Et[Et.length-1]);else if(Dt);else if(!nn&&!$n&&Z&&!Ae&&o)switch(o){case"TL":case"BL":tr(U?0>At?-Yt:Yt:At,U?Lt:0>Lt?-Ut:Ut,3,-1,0,n,At,Lt)&&(zt=bi);break;case"TR":case"BR":tr(U?0>At?-Xt:Xt:At,U?Lt:0>Lt?-Vt:Vt,3,1,0,n,At,Lt)&&(zt=bi)}}else{var i=xr(t,!1);if("undefined"!==e.type(i)){var r=Pr(nn,i.x,i.y,!0);isNaN(r.x)||isNaN(r.y)||ma(r.x,r.y)}}}else if(Yr(t),so=bi,dr=mi,"undefined"!==e.type(t.pageX)){var r=Pr(nn,t.pageX,t.pageY,!0);ya(r.x,r.y)}},gr=function(t){if(!(t&&t.type&&"mouseup"===t.type&&on)){if(Wt=+new Date-qt,qt=void 0,t.target){var n=e(t.target),o=!1;if((n.hasClass("pf-thumbnail-button")||n.hasClass("pf-thumbnail-page"))&&(o=!0),"pf-thumbnail-container"!==n.attr("id")&&"pageflip-thumbnails"!==n.attr("id")||(o=!0),o)return!0}if(Fe)if(Tr(t),En=null,Dt||zt)Yr(t),Ss("onManualEnded"),br(Et[Et.length-1],!0),Pt=mi,vr();else if(so){if(Yr(t),nn&&(so=mi),!Br(t))return bi;!nn&&Fr(At,Lt)&&Se&&(so=mi,"video-thumb"!==t.target.className&&"vimeo-thumb"!==t.target.className&&"play-button"!==t.target.className&&"pf-hotspot"!==t.target.className&&(Cs.zoomOut(),Cs.hideThumbnails()))}else{if(!Br(t))return bi;if(!nn&&Fr(At,Lt)&&Se&&"video-thumb"!==t.target.className&&"vimeo-thumb"!==t.target.className&&"play-button"!==t.target.className&&"pf-hotspot"!==t.target.className){var i=Pr(nn,t.pageX,t.pageY);_a(At,Lt,i.x,i.y),Cs.zoomIn(),Cs.hideThumbnails()}}}},vr=function(){nn||rt.trigger(sn.__onMove)},mr=function(e,t,n){La();var o=mi,i=U?-.5:e,r=U?2*e:1;if(tr(i*s,r*u/2,0,e,t,n,i*s*.97,r*u/2*.97)){var a=Et[Et.length-1];a.__success=bi;var c=1==a.__flipType?1:-1;U?sr(a,a.__sx,c*a.__sy,ye,5,2==a.__flipType?0:3,-s/8-(Ci()-.5)*s/16):sr(a,c*a.__sx,a.__sy,ye,2==a.__flipType?0:3,5,-u/8+(Ci()-.5)*u/16),o=bi}return o},br=function(t,n){var o=t.__side*(1==t.__flipType?-1:1);if(nr(t,4)){t.__success=jt&&Dt?jt==o:o*(U?Lt:At)>0;var i=Sr(At,Lt,zt||Dt),r=!1;if(.01>ea&&(r=Er(At,Lt)),i||n){var a="undefined"!==e.type(jt)&&jt===o;(a||"undefined"!==e.type(Wt)&&400>Wt)&&(t.__success=bi)}Dt=!1,zt=!1;var s=t.__sx*(U?1:(t.__success?-1:1)*t.__side*o),u=t.__sy*(U?(t.__success?-1:1)*t.__side*o:1),c=U?mt:vt,l=Wr(s-t.__ax,u-t.__ay)/c,d=t.__sl/c,f=2;d>l&&(l=d,f=1),sr(t,s,u,ye*l,U?f:0,U?0:f),Ht=!t.__success}},yr=function(){Yt=Zt[pt].__renderWidth/pn||0,Ut=Zt[pt].__renderHeight/hn||0,Xt=Zt[pt+1].__renderWidth/pn||0,Vt=Zt[pt+1].__renderHeight/hn||0},_r=function(){xn=[],Cn=[]},wr=0,kr=0,Tr=function(t){var n,o,i=xr(t,!1);"undefined"!==e.type(i)&&(n=i.x,o=i.y);var r=_t+On*zn,a=(n-tt.offset().left)/r-vt/2-bt,s=(o-tt.offset().top)/r-mt/2-yt;isNaN(a)||(At=a,Lt=s)},Pr=function(t,n,o,i){var r,a={x:1,y:1},s=1,u=vt,c=mt;Ae&&(U?c/=2:u/=2);var l=0;G&&(l=at.getHeight());var h=zn;i&&(h=ua());var p=h/ua(),g=ua(),v=_t+On*g,m=_t+On*h,b=_t,y=u*b,_=(d-y)/2,w=_*m/b;w>d/2&&(w=d/2);var k=u*m+2*w,T=c*b,P=(f-T-l)/2,x=P*v/b;x>f/2&&(x=f/2);var S=P+p*(x-P),C=c*m+l+2*S,E=c*m+l+2*x;if(!nn&&so)if(t)a.x=a.y=1*s,zn>0&&(a.x=a.y=1*s/zn);else{var F;if(P>o){var I=o,B=I*x/P;F=B}else if(o>P+T){var M=o-T-P,$=M*x/P;F=x+c*m+$}else{var N=o-P,A=N*(c*m)/T;F=x+A}var L=F-o-((E-l)/2-f/2);L+=(C-l-f)/2,r={x:n*(k-d)/d,y:L}}return"undefined"===e.type(r)&&(r={x:parseInt(n-et.offset().left,10)*a.x,y:parseInt(o-et.offset().top,10)*a.y}),r},xr=function(t,n){var o,i,r,a=t;if("undefined"===e.type(n)&&(n=!0),on&&"touch"===rn){var s=t.originalEvent.changedTouches;a=void 0,"undefined"!==e.type(s[0])&&(n?En&&"undefined"===e.type(window.TouchEmulator)?a=Fn:(En=s[0].identifier,Fn=s[0],a=Fn):a=s[0])}return!on||"touch"===rn&&"undefined"!==e.type(a)?"undefined"!==e.type(a.pageX)&&"undefined"!==e.type(a.pageY)&&(o=a.pageX,i=a.pageY):"pointer"===rn&&"undefined"!==e.type(a.clientX)&&"undefined"!==e.type(a.clientY)&&(o=a.clientX,i=a.clientY),"undefined"!==e.type(o)&&(r={x:o,y:i}),r},Sr=function(e,t,n){var o="",i=ve*(n?1.2:1);return U?t>-Ut&&Vt>t&&(-Ut+i>t?e>-Yt&&-Yt+i>e?o="BL":Yt>e&&e>Yt-i&&(o="TL"):t>Vt-i&&(e>-Xt&&-Xt+i>e?o="BR":Xt>e&&e>Xt-i&&(o="TR"))):e>-Yt&&Xt>e&&(-Yt+i>e?t>-Ut&&-Ut+i>t?o="TL":Ut>t&&t>Ut-i&&(o="BL"):e>Xt-i&&(t>-Vt&&-Vt+i>t?o="TR":Vt>t&&t>Vt-i&&(o="BR"))),o},Cr=function(){var e=si;return nn&&(e=ui,Ae&&(e=ci)),e},Er=function(e,t){var n="",o=Cr();return nn&&zn>.01&&(o=li),U?(me=o*Math.max(Ut,Vt),Ae&&(be=me),t>-Ut&&Vt>t&&(-Ut+me>t?Ti(e)<Yt&&(n="OL"):t>Vt-me?Ti(e)<Xt&&(n="OR"):Ti(t)<be&&(n=0>t?"IL":"IR"))):(me=o*Math.max(Yt,Xt),Ae&&(be=me),e>-Yt&&Xt>e&&(-Yt+me>e?Ti(t)<Ut&&(n="OL"):e>Xt-me?Ti(t)<Vt&&(n="OR"):Ti(e)<be&&(n=0>e?"IL":"IR"))),n},Fr=function(e,t){if(U){var n=Ir(t,Yt,Xt);if(t>-Ut&&Vt>t&&e>-n&&n>e)return bi}else{var o=0;Ae||(o=Ut);var i=Ir(e,o,Vt);if(e>-Yt&&Xt>e&&t>-i&&i>t)return bi}return mi},Ir=function(e,t,n){return 0>e?t:n},Br=function(t){var n=e(t.target);return!(n.is("input")||n.is("textarea")||n.is("button"))},Mr=function(t){var n,i,r=0==Zt[t].__BackgroundFiles.length;Cr();i=r?"pf-page-container white-bg"+(Zt[t].__outer?" pf-outer":"")+(o?" "+o:""):"pf-page-container pf-"+vi[t%2]+"-side"+(Zt[t].__outer?" pf-outer":"")+(o?" "+o:"");var a="";if(ai&&Zt[t].__PageNumber&&Zt[t].__PageNumber>0){var s=e("<div></div>").addClass("pf-page-cursoroverlay");s.attr("id","page"+t+"cursoroverlay");var u=Zt[t].__renderWidth,c=Zt[t].__renderHeight;if(u&&c){var l=Cr(),d=!1,f=!1;Ae?1===Zt[t].__PageNumber&&N-1>1?f=!0:Zt[t].__PageNumber>1&&Zt[t].__PageNumber===N-1?d=!0:Zt[t].__PageNumber>1&&Zt[t].__PageNumber<N-1&&(d=!0,f=!0):1===Zt[t].__PageNumber&&N-1>1?f=!0:Zt[t].__PageNumber>1&&Zt[t].__PageNumber===N-1?(N-1)%2===0&&(d=!0):Zt[t].__PageNumber>1&&Zt[t].__PageNumber<N-1&&(N-1)%2===0&&(Zt[t].__PageNumber%2===0?d=!0:f=!0);var h=u,p=0;d&&(h-=u*l,p+=u*l),f&&(h-=u*l),s.css({position:"absolute",height:"100%",width:h+"px",top:"0px",left:p+"px"}),a=e("<div></div>").append(s).html()}}return n=$r(i,"page"+t,[a,$r("pf-page-content","page"+t+"content")])},$r=function(t,n,o){var i="<div"+(n?' id="'+n+'"':"")+(t?' class="'+t+'"':"")+">";return o&&(e.isArray(o)||(o=[o]),e.each(o,function(t,n){"string"===e.type(n)&&(i+=n)})),i+"</div>"},Nr=function(t){return e("#page"+t)},Ar=function(t){return e("#page"+t+"content")},Lr=function(t){return e("#page"+t+"emboss")},Rr=function(t){return e("#page"+t+"mask")},Or=function(t){return e("#page"+t+"flipshadowcontainer")},zr=function(t){return e("#page"+t+"flipshadowA")},Dr=function(t){return e("#page"+t+"flipshadowB")},Hr=function(t){return e("#page"+t+"fliptopshadow")},jr=function(t){return e("#page"+t+"hardtopshadow")},qr=function(e,t){return"translate("+e+"px,"+t+"px) "},Wr=function(e,t,n){var o=ki(e*e+t*t);return n&&(o*=e>0?-1:1),o},Yr=function(e){return e.preventDefault()},Ur=function(i,r){return Ke!=n?Ke:(nn=!0,(window.PointerEvent||window.navigator.pointerEnabled)&&window.navigator.msMaxTouchPoints?(sn={__onStart:"pointerdown",__onMove:"pointermove",__onEnd:"pointerup"},rn="pointer",an="pointerup"):(window.MSPointerEvent||window.navigator.msPointerEnabled)&&window.navigator.msMaxTouchPoints?(sn={__onStart:"MSPointerDown",__onMove:"MSPointerMove",__onEnd:"MSPointerUp"},rn="pointer",an="MSPointerUp"):"ontouchstart"in t||window.navigator.msMaxTouchPoints||"TouchEmulator"in window?(sn={__onStart:"touchstart",__onMove:"touchmove",__onEnd:"touchend"},rn="touch",an="touchend"):(nn=!1,sn={__onStart:"mousedown",__onMove:"mousemove",__onEnd:"mouseup"},an="click"),o="undefined"===e.type(r)?"Flipbook":r,Ke=this,xt="WebKitCSSMatrix"in t||"MozPerspective"in document.body.style,Ii(i),Ie&&bs(1),Bi(),Ni(),Vr(),this)},Xr=function(){window.goToLabel=function(e){Cs.gotoPageLabel("t"+e,!0),Ss(12)},e(document).on("click","a.pf-hotspot",function(t){Ss(12);var n=e(t.target).attr("href");if(!n||/^mailto:/.test(n))return/^mailto:/.test(n)?(window.top.location=n,!1):!0;t.preventDefault();var o=window.open(n,"_blank");o&&o.focus()}),Ue&&(dt=new FlipbookTooltips({el:"a.pf-hotspot",color:Oe,background:ze,orientation:"top",text:De,margin:7})),je||(tn=new FlipbookLinksFading({el:"a.pf-hotspot",background:qe}),He&&(xs("onAutoFlippingSequenceEnded",function(){St||tn.blink()}),xs("onManualFlippingSequenceEnded",function(){St||tn.blink()})))},Vr=function(){e(function(){if(Go){var t=window.NavigationArrowsManager.getSize();t>m&&(_=t,w=t)}en=Ke.html();var n=e("#Template-pages");if(window.flipbookSettings){var o=e("<div/>");e.each(window.flipbookSettings.pages,function(t,n){var i=e("<div></div>",{"class":"page"}).attr({"data-background-file-desktop":Vo+"inc/pages/page"+t+".jpg","data-background-file-mobile":Vo+"inc/pages/page"+t+".jpg","data-thumbnail-image":Vo+"inc/pages/thumbnails/page"+t+".jpg","data-page-label":"t"+t});e.each(n.links,function(t,n){var o;o=n.is_internal?e('<a class="pf-hotspot" onclick="goToLabel('+n.link+')"></a>').css({top:n.top,left:n.left,width:n.width,height:n.height}):e("<a></a>",{"class":"pf-hotspot",href:n.link}).css({top:n.top,left:n.left,width:n.width,height:n.height}),i.append(o)}),e.each(n.videos,function(t,n){var o=e("<div></div>",{"class":"video-container"}),r=e("<div></div>",{"class":"video-player","data-id":n.id,"data-thumb":n.thumb,"data-width":parseInt(n.width),"data-height":parseInt(n.height),"data-top":parseInt(n.top),"data-left":parseInt(n.left)});"youtube"===n.host?r.addClass("youtube-player"):"vimeo"===n.host&&r.addClass("vimeo-player"),o.append(r),i.append(o)}),o.append(i)}),n=o}ct=n,n.length>0?(Ke.html(n.html()),Zr()):Zr(),tt.css("display","block")})},Zr=function(){var i=Ke.children();if(0==i.length)return[];Li(i);var r=M=M>N?N:$>M?$:M;pt=Ka(r),pt-=pt%2;var a=o?" "+o:"";Ke.html($r("pageflip-container"+a,"pf-stage",$r("pf-book-container"+a,"pf-book",$r("pf-book-offset"+a,"pf-bookoffs",$r("pf-book-content"+a,"pf-bookc",[ce?$r(o?o:n,"pf-dropshadow"):n,ai?$r(void 0,"pf-cursoroverlay"):n])))+$r(o?o:n,"pf-controls"))).css("visibility","visible"),et=e("#pf-stage"),tt=e("#pf-book"),ot=e("#pf-bookoffs"),nt=e("#pf-bookc"),tt.css("display","none"),ce&&(it=e("#pf-dropshadow"),di=di.add(it)),rt=e(document),et.css("background-color",Ze),"string"==typeof Qe&&et.css({"background-image":'url("'+Qe+'")',"background-size":"cover"}),et.css({position:"relative",margin:Ei,"-webkit-perspective-origin-x":"50%","-webkit-perspective-origin-y":"50%"}),T?et.css({width:"100%",height:"100%"}):("undefined"==typeof d?et.css({width:k?"100%":vt+_+w}):et.css({width:d}),"undefined"==typeof f?et.css({height:k?"100%":mt+b+y}):(et.css({height:f}),et.css({overflow:"hidden"}))),Jr(),tt.css({top:0,left:0,"z-index":10}),Ae?tt.css({position:"absolute"}):tt.css({position:"relative"}),nt.css({"transform-style":"preserve-3d",opacity:1}),ot.css({position:"absolute",top:0,left:0}),di.length>0&&di.css({position:"absolute",top:0,left:0,"z-index":1,"transform-origin":U?"50% 0%":"0% 50%",opacity:de}),J&&Ca(),Me&&e(Ke).css({"user-select":"none"}),ft=new window.FlipbookUrl({singlePageMode:Ae},Cs);var s=ft.getPageNumberFromUrl();return st=new window.VideoManager(Cs),ut=new window.AudioPlayer(Ge),ai&&(ht=new window.FlipbookCursorManager({cursorColor:Je,incDirPath:Vo},Cs),xs("onFlippingSequenceStarted",function(){Ui()}),xs("onAutoFlippingSequenceEnded",function(){Ui()}),xs("onManualEnded",function(){Ui()})),Ge.pageFlipping&&(xs("onAutoFlippingSequenceStarted",function(){ut.playSound("pageFlipping")}),xs("onManualEnded",function(){ut.playSound("pageFlipping")})),G&&ka(st),Cs.gotoPageNumber(s,!0),Xr(),ta(),oa(),Go&&(lt=new window.NavigationArrowsManager(Cs,{SinglePageMode:Ae},Jo)),Ue&&xs("onFlippingSequenceStarted",function(){dt.events.hide()}),Yi(),tn&&He&&tn.blink(),tt.on(sn.__onStart,hr),rt.on(sn.__onMove,pr).bind(sn.__onEnd,gr),nn&&(tt.on("mousedown",hr),rt.on("mousemove",pr).bind("mouseup",gr)),e(t).bind("resize",Gr),(T||k)&&Gr(),Wi(),Xi(),A&&Cs.startAutoFlip(mi),rt.keydown(function(e){switch(e.which){case 37:Cs.gotoPrevPage(),e.preventDefault();break;case 39:Cs.gotoNextPage(),e.preventDefault()}}),t.raf=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,fn/6)}}(),Pn=bi,fr(),Ke},Qr=function(i){!In&&Ke&&(In=bi,nt.css("opacity",0),at&&(at.css("opacity",0),at.unbind()),J&&La(),t.setTimeout(function(){Pn=mi},900),t.setTimeout(function(){St=mi,cs(),o=n,Ke.empty(),Ke.html(en).attr("style",null),Ke=n,Fi=85,rt.unbind(sn.__onMove,pr).unbind(sn.__onEnd,gr),rt.unbind("webkitfullscreenchange mozfullscreenchange msfullscreenchange fullscreenchange",gs),e(t).unbind("resize",Gr),In=mi,i&&i()},1e3),Ie&&ys())},Gr=function(){if(T&&e(Ke).css({width:t.innerWidth,height:"100%"}),T||k){var n=S;if(n&&Oo&&(n=mi,et.css({height:"100%"})),d=window.innerWidth,f=window.innerHeight,et.css({width:d+"px",height:f+"px"}),Ke.css({width:d+"px",height:f+"px"}),e("body").css({width:d+"px",height:f+"px"}),C){var o=t.innerHeight-E;f>o&&(f=o,n=mi,et.css({height:o}))}var i=0;G&&!n&&(i=at.getHeight());var r=d-_-w,a=n?mt:f-b-y;a-=i;var h=F?c:vt,p=F?l:mt,g=r/h,v=a/p;if(C){var m=v>g?g:v,M=mt*m+b+y;M>o&&(n=mi,a=f-b-y,v=a/p,et.css({height:o}))}if(I){(U?a>=B:r>=B)?(c=s=xi(r/hn),l=u=xi(a/pn),_t=1):U?(l=u=B/2,_t=a/B,c=s=r/_t):(c=s=B/2,_t=r/B,l=u=a/_t),Mi(),Jr();for(var $=0;$<Zt.length;$++)Zt[$].__renderWidth=s,Zt[$].__renderHeight=u,Zt[$].__maskSize=Zt[$].__isCover?Tt:kt;Ai()}else _t=P?g>v?g:v:v>g?g:v,_t>1&&!x&&(_t=1);var N=window.screen.height,A=window.screen.width;Ko=!0,ri&&Uo&&("undefined"!==e.type(Zo)&&(Ko=!(Zo>=N)),"undefined"!==e.type(Qo)&&(Qo>=A?Ko=!1:"undefined"!==e.type(Zo)&&(Ko=!0))),Xi(),Bn=xi((vt*_t-vt)/2+(r-vt*_t)/2),n?(a=mt*(_t+On*zn),et.css({height:a+(b+y)}),Mn=Pi((mt*(_t+On*zn)-mt)/2)):Mn=Pi((mt*_t-mt)/2-(mt*_t-a)/2),ra(r,a),Ss("onStageResize"),Kr(),J&&za(bi)}else Ss("onStageResize");ca(),sa(),Ae&&tt.css({clip:"rect(-"+f/_t+"px "+d/_t+"px "+f/_t+"px 2px)"}).addClass("pf-book-container-singlepage"),Ui()},Jr=function(){if(tt.css({width:vt}),Ae?tt.css("height",mt):tt.css("height",mt),ot.css({width:vt,height:mt}),di.length>0){Cr();di.css({width:vt,height:mt})}},Kr=function(){var e,t,n=_t+On*zn;if(nn)e=Bn+Vn*zn+wr+_,t=Mn+Zn*zn+kr+b;else{var o=vt,i=mt;Ae&&(U?i/=2:o/=2);var r=0;G&&(r=at.getHeight());var a=zn/ua(),s=ua(),u=_t+On*s,c=_t,l=i*c,d=(f-l-r)/2,h=d*u/c;h>f/2&&(h=f/2);var r=0;G&&!S&&(r=at.getHeight());var p=S?mt:f-b-y;p-=r;mt*(_t+On*ua());e=Bn-Vn*zn+wr+_,t=(f-r)/2-i*n/2-Zn*a+kr,tt.css({"transform-origin":"50% top"})}Go&&.01>zn&&(lt.setPosition(n),Wi()),tt.css({transform:qr(e,t)+"scale("+n+","+n+")"})},ea=0,ta=function(){if(nn&&xe){var t,n=Math.max(window.screen.availWidth,window.screen.availHeight);t=n>1e3?1/1.5:n>700?.4:1/3;var o=new Hammer(ot[0]),i=function(n){var o=ua();o>zn&&("undefined"!==e.type(window.TouchEmulator)&&(n.velocity=.2),$n=!0,zn+=Math.abs(n.velocity)*t,Ti(o-zn)<.01&&(zn=o),Ss(9,pt),ia(),Kr())},r=function(n){zn>0&&("undefined"!==e.type(window.TouchEmulator)&&(n.velocity=.2),zn-=Math.abs(n.velocity)*t,.01>zn&&(zn=0,$n=!1),Ss(10,pt),ia(),Kr())};o.get("pinch").set({enable:!0,threshold:0}),o.get("tap").set({enable:!0,taps:2,posThreshold:100}),o.on("tap",function(e){"video-thumb"!==e.target.className&&"play-button"!==e.target.className&&"vimeo-thumb"!==e.target.className&&(na(e),$n?sa():aa()),e.preventDefault()}),o.on("pinchstart",function(e){
na(e),An=!0,Rn=e.scale,e.preventDefault()}),o.on("pinchmove",function(e){Rn<e.scale&&i(e),Rn>e.scale&&r(e),Rn=e.scale,e.preventDefault()}),o.on("pinchend",function(e){An=!1,Ln=!1})}},na=function(e,t){var n=function(e){var t=_t+On*zn,n=(e.center.x-tt.offset().left)/t-vt/2-bt,o=(e.center.y-tt.offset().top)/t-mt/2-yt;isNaN(n)||(At=n,Lt=o)},o={x:parseInt(e.center.x-et.offset().left),y:parseInt(e.center.y-et.offset().top)};n(e),_a(At,Lt,o.x,o.y,t)},oa=function(){On=0,zn=0,Dn=0,Hn=0,Vn=0,Zn=0,Qn=0,Gn=0,Jn=0,Kn=0,eo=0,to=0,$n=mi,so=mi,Nn=mi,Ln=mi},ia=function(){var e=vt,t=mt,n=0;G&&(n=at.getHeight());var o=e,i=t,r=zn;if(nn)o*=_t+On*r,i*=_t+On*r,Dn=Math.floor((o-d)/(2*r)),Hn=Math.floor((i+n-f)/(2*r));else{var a=_t+On*ua();o*=a,i*=a,Dn=Ae?Math.floor((2*o-ro)/ua()):Math.floor((o-d)/(2*ua())),Hn=Math.floor((i+n-f)/(2*ua()))}Wn=-1*Math.abs(Hn)-y,Yn=Math.abs(Hn)+b,nn&&Dn<-1*Math.abs(b)||!nn&&0>Dn?(Dn=0,jn=0,qn=0):(jn=-1*Dn-_,qn=Dn+w)},ra=function(e,t){var n=vt,o=mt,i=0;if(Ae&&(U?o/=2:n/=2),G&&(i=at.getHeight()),no=n,oo=o,io=n,Ae||(io=Math.floor(io/2)),On=1>_t?1-_t:0,ro=e,ao=t,ia(),Un=n/ro,Xn=o/ao,1>Un&&(Un=1),1>Xn&&(Xn=1),0==On)oa();else if($n){var r=ba(Qn,Gn);Vn=Qn=r.x,Zn=Gn=r.y}pa(),xs("onFlippingSequenceStarted",function(){sa(),pa(),Ue&&dt.events.hide()})},aa=function(){!$n&&1>_t&&(Go&&lt.toggle(!1),$n=bi,nn&&(Nn=bi),Ss(9,pt))},sa=function(){$n&&1>_t&&($n=mi,nn||(Vn=Qn,Zn=Gn),nn&&(Nn=bi),dr=!1,so=!1,Ss(10,pt))},ua=function(){var e=1;return e},ca=function(){for(var t,n=v+1,o=ua(),i=.01,r=1.0001;10>r;r+=1e-4){var a=i*(1-Math.pow(r,n))/(1-r);if(a>o){t=r;break}}"undefined"===e.type(t),lo=t},la=0,da=!1,fa=!1,ha=function(){var n,o=ua(),i="undefined"!==e.type(v);if(n=i?lo:o/7,!nn||Nn)if($n){if(Ti(o-zn)>.01||da){if(i){fa&&(la=0,fa=!1),da=!0,la+=1;var r=.01*Math.pow(lo,v-la+1);zn+=r}else zn+=(o-zn)*n;Ui(),Ti(o-zn)<=.01&&(zn=o,da=!1,la=0,Nn=mi),Kr(),S&&e(t).trigger("resize")}}else if(0!=zn||fa){if(i){fa=!0,da&&(la=0,da=!1);var r=.01*Math.pow(lo,v-la+1);zn-=r,la+=1}else zn-=zn*n;Ui(),.01>=zn&&(Go&&lt.toggle(!0),fa=!1,la=0,zn=0,Nn=mi),Kr(),S&&e(t).trigger("resize")}va()},pa=function(){at&&(e("#b-zoomout").css("display",$n?"":"none"),e("#b-zoomin").css("display",$n?"none":""),xa(e("#b-zoomin"),On>0&&xe))},va=function(){if(!nn&&so){if(Qn===Vn&&Gn===Zn)return;Vn+=(Qn-Vn)/4,Zn+=(Gn-Zn)/4,Kr()}else if(Math.abs(Qn-Vn)>.001||Math.abs(Gn-Zn)>.001){ia();var e=ba(Qn,Gn);Qn=e.x,Gn=e.y,Vn=Qn,Zn=Gn,Kr()}},ma=function(e,t){e+=Jn,t+=Kn,Qn=e,Gn=t;var n=Qn-eo,o=Gn-to;zn>0&&(n/=zn,nn?o/=zn:o*=zn/ua()),Qn=eo+n,Gn=to+o;var i=ba(Qn,Gn);Qn=i.x,Gn=i.y},ba=function(t,n){return nn?(jn>t&&("undefined"===e.type(eo)||eo>=jn-2)?t=jn:t>qn&&("undefined"===e.type(eo)||qn+2>=eo)&&(t=qn),Wn>n&&("undefined"===e.type(to)||to>=Wn-2)?n=Wn:n>Yn&&("undefined"===e.type(to)||Yn+2>=to)&&(n=Yn)):n>Math.abs(Kn)&&(n=Math.abs(Kn)),{x:t,y:n}},ya=function(e,t){var n=vt,o=mt;Ae&&(U?o/=2:n/=2);var i=0;G&&(i=at.getHeight());var r=ua(),a=_t+On*r,s=_t,u=n*s,c=(d-u)/2,l=c*a/s;l>d/2&&(l=d/2);var h=o*s,p=(f-h-i)/2,g=p*a/s;g>f/2&&(g=f/2);var v=o*a+i+2*g;Jn=Vn-e,eo=Vn,to=Zn,Kn=nn?Zn-t:-1*((v-i)/2-(f-i)/2)},_a=function(e,t,n,o,i){var r=vt,a=mt;Ae&&(U?a/=2:r/=2);var s=0;G&&(s=at.getHeight());var u=zn;u=ua();var c=_t+On*u,l=_t,h=r*l,p=(d-h)/2,g=p*c/l;g>d/2&&(g=d/2);var v=a*l,m=(f-v-s)/2,y=m*c/l;y>f/2&&(y=f/2);var w=a*c+s+2*y,k=n-Bn-vt/2-e-_-bt,T=o-Mn-mt/2-t-b-yt;if(!nn){var P;if(k=-k,m>o){var x=o,S=x*y/m;P=S}else if(o>m+v){var C=o-v-m,E=C*y/m;P=y+a*c+E}else{var F=o-m,I=F*(a*c)/v;P=y+I}T=P-o-((w-s)/2-(f-s)/2)}var B;B=i||!nn?{x:k,y:T}:ba(k,T),Vn=B.x,Qn=B.x,Zn=B.y,Gn=B.y},wa=function(e){Be&&(Do&&0!==Do.length||Et&&0!==Et.length||ft.updateUrl(e))},ka=function(t){if(window.ControlBar){var n=e("#pf-controls");at=new window.ControlBar(n,{zIndex:Q||forceTop?12:2,colors:Re,touchControl:nn,touchType:rn,pagerText:Te,minPageLimit:$,maxPageLimit:N,hashControl:Be,navigationLoop:Y,fullScreenEnabled:R,searchButtonEnabled:O,printButtonEnabled:z,navigationButtonsEnabled:D,downloadButtonEnabled:H,thumbnailsButtonEnabled:j,controlbarTooltipEnabled:Ye,controlbarTooltipBackground:Ve,controlbarTooltipColor:Xe,navbarMinHeight:ei,navbarMinWidth:ti,useNavBarMinSizes:ni,navBarTablet:ii,navBarMobile:oi},Cs,t),xs("onPageChangingComplete",function(){at.updatePage()}),ft.getPageNumberFromUrl()<2&&at.updatePage(),xs("onStageResize",at.adjustButtonsToScreenSize)}return Oo=!1,R&&(zo=document.getElementById("pf-stage"),R=zo.requestFullscreen||zo.mozRequestFullScreen||zo.webkitRequestFullScreen||zo.msRequestFullscreen?bi:mi),R&&rt.bind("webkitfullscreenchange mozfullscreenchange fullscreenchange msfullscreenchange",gs),at},Ta=function(e){var t=Pa(e),n="_new"+Math.round(99999*Math.random()).toString(),o=window.open("about:blank",n);o.document.open(),o.document.write(t),o.document.close()},Pa=function(t){var n="<html>\n	<head>\n		<style>\n			@media print { img{display:inline} }\n  			@media screen { img{display:none} }\n		</style>\n		<script>\n			function run(){setTimeout('printImg()', 10);}\n			function printImg(){\n				window.print(); window.close();\n			}\n		</script>\n	</head>\n	<body onload='run()'>\n",o=[];return t&&"left"!==t||"undefined"===e.type(Zt[pt])||e.isArray(Zt[pt].__BackgroundFiles)&&Zt[pt].__BackgroundFiles.length>0&&o.push("<img src="+Zt[pt].__BackgroundFiles[0].url+' style="width:100%; height:auto;" />'),t&&"right"!==t||"undefined"===e.type(Zt[pt+1])||e.isArray(Zt[pt+1].__BackgroundFiles)&&Zt[pt+1].__BackgroundFiles.length>0&&o.push("<img src="+Zt[pt+1].__BackgroundFiles[0].url+' style="width:100%; height:auto;"/>'),n+o.join("<br />")+"</body>\n</html>"},xa=function(e,t){t==n&&(t=bi),t?e.removeClass("pf-disabled"):Sa(e)},Sa=function(e){e.addClass("pf-disabled")},Ca=function(){var t="pageflip-thumbnails",i="pf-thumbnail-container";tt.after($r(ne?"pf-hidden":n,t,$r(n,i))),mo=e("#"+t),o&&mo.addClass(o),bo=e("#"+i),bo.css("width",gt*oe*1.5),ho=[],po=[],go=[],vo=[],So=0,To=0,Po=0;for(var r,a,t,s="pf-thumbnail",u="-",c="page",l="spread",d="button",f=s+u+c,h=s+u+l,p=s+u+d,g="#"+s,v=0;gt>=v;v+=2)r=Zt[v].__ThumbnailImageUrl?v:-1,a=Zt[v+1].__ThumbnailImageUrl?v+1:-1,0>r&&a>=0&&(r=a,a=-1),r>=0&&a>=0?(bo.append($r(h,n,$r(p,s+r+d)+$r(p,s+a+d))),Fa(r),t=e(g+r+d).position().left,ho.push(t+oe),po.push(v),go.push(2*oe),Fa(a),K&&vo.push([r,a])):r>=0&&(bo.append($r(f,n,$r(p,s+r+d))),Fa(r),t=e(g+r+d).position().left,ho.push(t+oe/2),po.push(v),go.push(oe),K&&vo.push([r]));ho.length?(So=t+oe*(Zt[gt].__outer?1:2)+w,bo.css("width",So+20),Ea(),Co=mi,Io=0,bo.bind(sn.__onStart,Ba),bo.bind(sn.__onEnd,$a),bo.bind(sn.__onMove,Ma),nn&&(bo.bind("mousedown",Ba),bo.bind("mouseup",$a),bo.bind("mousemove",Ma)),bo.css("height",ie+16),nn||bo.bind("mouseleave",Na),_o=ne,Aa(),xs("onZoomIn",La),xs("onZoomOut",La),xs("onPageChange",La)):(J=mi,mo.remove()),ne&&bo.css("display","none")},Ea=function(e){if(J){var t=1;(ee||e)&&(t=12),mo.css("z-index",t)}},Fa=function(t){var n={width:oe,height:ie,"background-size":+oe+"px "+ie+"px",cursor:"pointer"};K||(n.background="url("+Zt[t].__ThumbnailImageUrl+")");var o=e("#pf-thumbnail"+t+"button");o.attr("data-page",t).attr("title","Page "+Zt[t].__PageNumber),o.css(n);var i=new Hammer(o[0]);i.on("tap",function(t){if(!_o&&!St){var n=e("#"+t.target.id).data().page;$o=bi,Cs.gotoPage(n,bi),La(),Ia(t.srcEvent)}})},Ia=function(e){Dt||zt||(Yr(e),e.stopPropagation())},Ba=function(e){on=!e||!e.type||"mousedown"!==e.type,Ha(qa(e)),Ia(e)},Ma=function(e){e&&e.type&&"mousemove"===e.type&&on||(!_o||!te||Dt||zt||so?Aa():Ra(),Eo&&(Co=bi,Mo=bi,To=Wa(Fo+qa(e))),Ia(e))},$a=function(e){e&&e.type&&"mouseup"===e.type&&on||ja()},Na=function(e){ja(),!_o&&te&&La()},Aa=function(e){if(!te)return mi;var t=lr();return e!=n?t-yo>e:void(yo=t)},La=function(){_o=!0,mo.addClass("pf-hidden"),setTimeout(function(){_o&&(Ea(!1),bo.css("display","none"))},300)},Ra=function(){Aa(),_o=!1,bo.css("display","block"),mo.removeClass("pf-hidden"),Ea(bi)},Oa=function(){_o||(Aa(te)&&La(),Po!=To&&Da())},za=function(e){if($o)return void($o=mi);var t,o=Pi(d/2),i=ho.length-1,r=po.lastIndexOf(pt);if(re?(ko=o-ho[0],wo=o-ho[i]):(ko=o-ho[0]-o+go[0]/2,wo=o-ho[i]+o-go[i]/2,wo>ko&&(ko=wo=Pi(ko+wo/2))),0>r){if(!e)return;t=0}else t=ho[r];To=Wa(o-t),(!Po==n||_o||e)&&(Po=To+.5)},Da=function(){if(Po!=To&&(Co?(Io=To-Bo,Bo=To):0!=Io&&(Io*=.9,Ti(Io)<1?Io=0:To=Wa(To+Io)),Po+=(To-Po)/5,Ti(To-Po)<1&&(Po=To,Io=0),bo.css("transform",qr(Po,0)),K&&!(Ti(Po-xo)<32))){xo=Po;for(var t=-oe-32,n=d+oe+32,o=vo.length,i=0;o>i&&ho[i]+Po<t;)i++;for(;o>i&&ho[i]+Po<n;)vo[i]&&(e.each(vo[i],function(t){var n=vo[i][t],o=e("#pf-thumbnail"+n+"button");Qi(o,n).done(function(){o.css({"background-image":'url("'+Zt[n].__ThumbnailImageUrl+'")',"background-size":"auto"})})}),vo[i]=null),i++}},Ha=function(e){Eo=bi,Co=mi,Mo=mi,Bo=To,Fo=To-e},ja=function(){Mo=Co,Co=Eo=mi},qa=function(t){var n=xr(t,!1);return"undefined"!==e.type(n)?n.x:void 0},Wa=function(e){return wo>e?e=wo:e>ko&&(e=ko),e},Ya=function(e,t,n){La();var o=mi;if($>e||e>N)return Ss("onPageChangingComplete"),o;if(!St&&0==Do.length)if(e-=e%2,e!=pt)if(o=bi,n)pt=e,Ss("onPageChangingComplete"),Yi();else{var i=e-pt;if(t)(e==gt-1&&0!=pt||0==e&&pt!=gt-1)&&(h||wt)&&Ti(i)>2?0>i?(vs(0,i+2),vs(200,-2)):(vs(0,i-2),vs(200,2)):(pt==gt-1&&0!=e||0==pt&&e!=gt-1)&&(h||wt)&&Ti(i)>2?0>i?(vs(0,-2),vs(200,i+2)):(vs(0,2),vs(200,i-2)):vs(0,i);else{var r,a=999;0>i?(r=-1,i*=-1):r=1,i/=2,a>i&&(a=i);for(var s=0,u=0,c=i/a,l=0;a>l;l++)s=Si(c*(l+1)),vs(l?ye/4:0,2*(s-u)*r),u=s}}else Ss("onPageChangingComplete");return o},Ua=function(e,t){Ya(Ka(e),t)},Xa=function(e,t){Ya(es(e),t)},Va=function(e,t){Ya(ts(e),t)},Za=function(e){Ya(X&&!e?N:$,bi)},Qa=function(e){return Y&&(!X||e?$+1>pt:pt>N-2)?Ja(e):mr(X&&!e?1:-1,Ae&&!X?1:0,2)},Ga=function(e){return Y&&(X&&!e?$+1>pt:pt>N-2)?Za(e):mr(X&&!e?-1:1,Ae&&X?1:0,2)},Ja=function(e){Ya(X&&!e?$:N,bi)},Ka=function(e){return e>0?No.lastIndexOf(parseInt(e)):-1},es=function(e){return Ao.lastIndexOf(e.toLowerCase())},ts=function(e){return Lo.lastIndexOf(e)},ns=function(){No=[],Ao=[],Lo=[];for(var e=0;gt>=e;e++)No[e]=Zt[e].__PageNumber,Ao[e]=Zt[e].__PageName?Zt[e].__PageName.toLowerCase():n,Lo[e]=Zt[e].__PageLabel},os=function(e,t){return t?void(Zt[e].__Data=t):Zt[e].__Data},is=function(){return!(zt||Dt||Sn)},rs=function(e,t){e==n&&(e=0),t==n&&(t=gt),$=X?gt-t:e,N=X?gt-e:t,0>$&&($=0),N>gt&&(N=gt),$-=$%2,N+=1-N%2},as=function(){return!$n&&!Ce&&.01>zn},ss=function(){var e=Zt[pt].__AutoFlipInterval||Zt[pt+1].__AutoFlipInterval;e=e==n?q:e,Ro=t.setTimeout(ls,e)},us=function(e){e==n&&(e=bi),Rt||(Rt=bi,e?ls():ss())},cs=function(){Rt&&(Rt=mi,t.clearTimeout(Ro))},ls=function(){if(!Ga(mi)){if(!W)return void Cs.stopAutoFlip();Za()}ss()},ds=function(){at&&(e("#b-pause").css("display",Rt?"":"none"),e("#b-play").css("display",Rt?"none":""))},fs=function(){zo.requestFullscreen?zo.requestFullscreen():zo.mozRequestFullScreen?zo.mozRequestFullScreen():zo.webkitRequestFullScreen?zo.webkitRequestFullScreen():zo.msRequestFullscreen&&zo.msRequestFullscreen(),Oo=bi},hs=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),Oo=mi},ps=function(){R&&(e("#b-fullscreen").css("display",Oo?"none":""),e("#b-fullscreenoff").css("display",Oo?"":"none"))},gs=function(e){ps(),Gr()},vs=function(e,t){var o={__delay:e,__pnAdd:t,__startTime:n};Do.push(o)},ms=function(){var e=lr(),t=Do[0];t.__startTime||(t.__startTime=lr()),t.__delay<e-t.__startTime&&mr(t.__pnAdd<0?-1:1,0,Ti(t.__pnAdd))&&Do.splice(0,1)},bs=function(e){qo=e,Yo=o?o:"Untitled",Wo="Pageflip5 - "+Yo,jo=[],Ho=lr(),ks()},ys=function(){var e=lr()-Ho;switch(e=Math.floor(e/1e3),qo){case 0:break;case 1:ga("send","event","Flipbooks","Book time",Yo,e);break;case 2:}},_s=function(e){jo[e]=lr()},ws=function(e){var t=lr()-jo[e];switch(t=Math.floor(t/1e3),qo){case 0:break;case 1:ga("send","event","Flipbooks","Page "+e,Yo,t);break;case 2:}},ks=function(){switch(qo){case 0:break;case 1:ga("send","event","Flipbooks","Book Opened",Yo,0);break;case 2:}},Ts=function(e){switch(qo){case 0:break;case 1:ga("send","event","Flipbooks","Page "+e+" View",Yo,0);break;case 2:}},Ps=["onFlip","onFlipEnd","onTop","onTopEnd","onLoad","onUnload","onRemove","onHide","onShow","onZoomIn","onZoomOut","onPageChange","onLinkClicked","onFlippingSequenceStarted","onAutoFlippingSequenceStarted","onAutoFlippingSequenceEnded","onManualFlippingSequenceEnded","onManualEnded","onPageChangingComplete","onStageResize"],xs=function(t,n){if(e.isArray(t)){var o=t;e.each(o,function(e,t){xs(t,n)})}else{if("function"==typeof fi[t]){var i=fi[t];fi[t]=[i]}e.isArray(fi[t])?fi[t].push(n):fi[t]=[n]}},Ss=function(t,n){var o;if("number"==typeof t&&"undefined"!=typeof Ps[t]?o=Ps[t]:"string"==typeof t&&Ps.indexOf(t)>-1&&(o=t),"undefined"!==o){if(fi){var i=fi[o];"function"==typeof i?i(n):e.isArray(i)&&e.each(i,function(e,t){"function"==typeof t&&t(n)})}qo&&("onTop"===o?(Ts(n),_s(n)):"onTopEnd"===o&&ws(n))}},Cs={gotoPage:function(e,t){return is()?(cs(),Ya(e,t)):void 0},gotoPageNumber:function(e,t){return is()?(cs(),Ua(e,t)):void 0},gotoPageName:function(e,t){return is()?(cs(),Xa(e,t)):void 0},gotoPageLabel:function(e,t){return is()?(cs(),Va(e,t)):void 0},gotoFirstPage:function(e){is()&&(cs(),Za(e))},gotoPrevPage:function(e){is()&&(cs(),Qa(e))},gotoNextPage:function(e){is()&&(cs(),Ga(e))},gotoLastPage:function(e){is()&&(cs(),Ja(e))},startAutoFlip:function(e){is()&&L&&(us(e),ds())},stopAutoFlip:function(){Rt&&(cs(),ds())},toggleAutoFlip:function(){Rt?Cs.stopAutoFlip():Cs.startAutoFlip()},closePageflip:function(e){Qr(e)},getID:function(){return o},getPN:function(){return pt},getPageNumber:function(e){return Zt[e?e:pt].__PageNumber},getPageName:function(e){return Zt[e?e:pt].__PageName},getPageLabel:function(e){return Zt[e?e:pt].__PageLabel},showThumbnails:function(){J&&(_o?Ra():La())},hideThumbnails:function(){J&&La()},zoomIn:function(){xe&&(aa(),pa())},zoomOut:function(){sa(),pa()},toggleZoom:function(){$n?Cs.zoomOut():Cs.zoomIn()},mouseControl:function(e){Fe=e},pageLimit:function(e,t){rs(e,t)},data:function(e,t){return os(e,t)},enterFullScreen:function(){return fs()},exitFullScreen:function(){return hs()},addPage:function(t,n,o){Ri(e(t),n,o)},reloadPage:function(e){},removePage:function(e,t,n){Oi(e,t,n)},printLeft:Ta.bind(void 0,"left"),printRight:Ta.bind(void 0,"right"),printBoth:Ta,download:function(){if(Le)if(window.ActiveXObject){if(window.ActiveXObject&&document.execCommand){var t=window.open(Le,"_blank");t.document.close(),t.document.execCommand("SaveAs",!0,Le),t.close()}}else try{var n=document.createElement("a");n.href=Le,n.target="_blank",n.download="pdf"===i.split(".").pop()?i:i+".pdf";var o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});n.dispatchEvent(o),(window.URL||window.webkitURL).revokeObjectURL(n.href)}catch(r){if("download"in document.createElement("a")){var a=e('<a download="flipbook">s</a>');a.attr("href",Le),a.attr("target","_blank"),a.css("display","none"),e("body").append(a),a.click(function(){e(this).remove()}),a[0].click()}else window.open(Le)}},getIsFullScreen:function(){return Oo},getIsThumbnailMode:function(){return J&&!_o},getCurrentPageNumber:function(){return pt},getFirstPageNumber:function(){return $},getLastPageNumber:function(){return N},getPageInfoList:function(){return Zt},updateHash:wa,addEventHandler:xs,getInstance:function(){return Ke},getPagesTemplate:function(){return ct},getIsTouchDevice:function(){return"undefined"!==e.type(rn)},getIsMobileDevice:function(){return Uo||Xo},getIsPhone:function(){return Uo},getIsTablet:function(){return Xo},getBookWidth:function(){return vt},getBookHeight:function(){return mt},getBookScale:function(){return _t},getStageWidth:function(){return d},getStageHeight:function(){return f},getMargin:function(){return _},getControlbarHeight:function(){var e=0;return G&&(e=at.getHeight()),e},getEndPN:function(){return $t},getClickEventName:function(){return an},getPfEvent:function(){return sn}},Es=function(e,t){return e==n?Cs:Ke?Cs[e](t):[]};e.extend(e.fn,{pageflipInit:Ur,pageflip:Es})}($,window),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function n(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function o(e){var t,o=0<arguments.length&&void 0!==e?e:{},i=o.id,r=o.url,a=i||r;if(!a)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(t=a,!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t)return"https://vimeo.com/".concat(a);if(n(a))return a.replace("http:","https:");if(i)throw new TypeError("".concat(i," is not a valid video id."));throw new TypeError("".concat(a," is not a vimeo.com url."))}function i(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(k(this,"_id","_WeakMap_"+a()+"."+a()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function r(e,t){if(!s(e)||!w.call(e,"_id"))throw new TypeError(t+" method called on incompatible receiver "+typeof e)}function a(){return Math.random().toString().substring(2)}function s(e){return Object(e)===e}function u(e,t,n){var o=F.get(e.element)||{};t in o||(o[t]=[]),o[t].push(n),F.set(e.element,o)}function c(e,t){return(F.get(e.element)||{})[t]||[]}function l(e,t,n){var o=F.get(e.element)||{};if(!o[t])return!0;if(!n)return o[t]=[],F.set(e.element,o),!0;var i=o[t].indexOf(n);return-1!==i&&o[t].splice(i,1),F.set(e.element,o),o[t]&&0===o[t].length}function d(e,t){var n=1<arguments.length&&void 0!==t?t:{};return I.reduce(function(t,n){var o=e.getAttribute("data-vimeo-".concat(n));return!o&&""!==o||(t[n]=""===o?1:o),t},n)}function f(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var o=document.createElement("div");return o.innerHTML=n,t.appendChild(o.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function h(e,t,o){var i=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length?o:void 0;return new Promise(function(t,o){if(!n(e))throw new TypeError("".concat(e," is not a vimeo.com url."));var a="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var s in i)i.hasOwnProperty(s)&&(a+="&".concat(s,"=").concat(encodeURIComponent(i[s])));var u=new("XDomainRequest"in window?XDomainRequest:XMLHttpRequest);u.open("GET",a,!0),u.onload=function(){if(404!==u.status)if(403!==u.status)try{var n=JSON.parse(u.responseText);if(403===n.domain_status_code)return f(n,r),void o(new Error("".concat(e," is not embeddable.")));t(n)}catch(n){o(n)}else o(new Error("".concat(e," is not embeddable.")));else o(new Error("".concat(e," was not found.")))},u.onerror=function(){var e=u.status?" (".concat(u.status,")"):"";o(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},u.send()})}function p(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function g(e,t,n){var o,i;e.element.contentWindow&&e.element.contentWindow.postMessage&&(o={method:t},void 0!==n&&(o.value=n),8<=(i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1")))&&10>i&&(o=JSON.stringify(o)),e.element.contentWindow.postMessage(o,e.origin))}function v(e,t){var n,o,i=[];(t=p(t)).event?("error"===t.event&&c(e,t.data.method).forEach(function(n){var o=new Error(t.data.message);o.name=t.data.name,n.reject(o),l(e,t.data.method,n)}),i=c(e,"event:".concat(t.event)),n=t.data):!t.method||(o=function(e,t){var n=c(e,t);if(n.length<1)return!1;var o=n.shift();return l(e,t,o),o}(e,t.method))&&(i.push(o),n=t.value),i.forEach(function(t){try{if("function"==typeof t)return void t.call(e,n);t.resolve(n)}catch(t){}})}var m="undefined"!=typeof global&&"[object global]"==={}.toString.call(global),b=void 0!==Array.prototype.indexOf,y="undefined"!=typeof window&&void 0!==window.postMessage;if(!(m||b&&y))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var _,w,k,T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(_="undefined"!=typeof self?self:"undefined"!=typeof window?window:T).WeakMap||(w=Object.prototype.hasOwnProperty,k=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n},_.WeakMap=(k(i.prototype,"delete",function(e){if(r(this,"delete"),!s(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))}),k(i.prototype,"get",function(e){if(r(this,"get"),s(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}}),k(i.prototype,"has",function(e){if(r(this,"has"),!s(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)}),k(i.prototype,"set",function(e,t){if(r(this,"set"),!s(e))throw new TypeError("Invalid value used as weak map key");var n=e[this._id];return n&&n[0]===e?n[1]=t:k(e,this._id,[e,t]),this}),k(i,"_polyfill",!0),i));var P,x,S,C,E=(function(e){var t,n,o;o=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}function t(e,t){f.add(e,t),d=d||m(f.drain)}function n(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function o(){for(var e=0;e<this.chain.length;e++)!function(e,t,o){var i,r;try{!1===t?o.reject(e.msg):(i=!0===t?e.msg:t.call(void 0,e.msg))===o.promise?o.reject(TypeError("Promise-chain cycle")):(r=n(i))?r.call(i,o.resolve,o.reject):o.resolve(i)}catch(e){o.reject(e)}}(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function i(e){var a,u=this;if(!u.triggered){u.triggered=!0,u.def&&(u=u.def);try{(a=n(e))?t(function(){var e=new s(u);try{a.call(t,function(){i.apply(e,arguments)},function(){r.apply(e,arguments)})}catch(t){r.call(e,t)}}):(u.msg=e,u.state=1,0<u.chain.length&&t(o,u))}catch(e){r.call(new s(u),e)}}}function r(e){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=e,n.state=2,0<n.chain.length&&t(o,n))}function a(e,t,n,o){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then(function(e){n(i,e)},o)}(i)}function s(e){this.def=e,this.triggered=!1}function u(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function c(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new u(this);this.then=function(e,i){var r={success:"function"!=typeof e||e,failure:"function"==typeof i&&i};return r.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t}),n.chain.push(r),0!==n.state&&t(o,n),r.promise},this["catch"]=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){i.call(n,e)},function(e){r.call(n,e)})}catch(e){r.call(n,e)}}var l,d,f,h,p,g,v=Object.prototype.toString,m="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),l=function(e,t,n,o){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==o})}}catch(v){l=function(e,t,n){return e[t]=n,e}}var b=l({},"constructor",c,!(f={add:function(t,n){g=new e(t,n),p?p.next=g:h=g,p=g,g=void 0},drain:function(){var e=h;for(h=p=d=void 0;e;)e.fn.call(e.self),e=e.next}}));return l(c.prototype=b,"__NPO__",0,!1),l(c,"resolve",function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),l(c,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),l(c,"all",function(e){var t=this;return"[object Array]"!=v.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");var i=e.length,r=Array(i),s=0;a(t,e,function(e,t){r[e]=t,++s===i&&n(r)},o)})}),l(c,"race",function(e){var t=this;return"[object Array]"!=v.call(e)?t.reject(TypeError("Not an array")):new t(function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");a(t,e,function(e,t){n(t)},o)})}),c},(n=T)[t="Promise"]=n[t]||o(),e.exports&&(e.exports=n[t])}(P={exports:{}}),P.exports),F=new WeakMap,I=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"],B=new WeakMap,M=new WeakMap,$={},N=function(){function i(e){var t,r,a=this,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),window.jQuery&&e instanceof jQuery&&(1<e.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),"undefined"!=typeof document&&"string"==typeof e&&(e=document.getElementById(e)),t=e,!Boolean(t&&1===t.nodeType&&"nodeName"in t&&t.ownerDocument&&t.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"===e.nodeName||(r=e.querySelector("iframe"))&&(e=r),"IFRAME"===e.nodeName&&!n(e.getAttribute("src")||""))throw new Error("The player element passed isnt a Vimeo embed.");if(B.has(e))return B.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var c,m=new E(function(t,i){var r;a._onMessage=function(e){if(n(e.origin)&&a.element.contentWindow===e.source){"*"===a.origin&&(a.origin=e.origin);var o=p(e.data);if(o&&"error"===o.event&&o.data&&"ready"===o.data.method){var r=new Error(o.data.message);return r.name=o.data.name,void i(r)}var s=o&&"ready"===o.event,u=o&&"ping"===o.method;if(s||u)return a.element.setAttribute("data-ready","true"),void t();v(a,o)}},a._window.addEventListener("message",a._onMessage),"IFRAME"!==a.element.nodeName&&h(o(r=d(e,s)),r,e).then(function(t){var n,o,i,r=f(t,e);return a.element=r,a._originalElement=e,n=e,o=r,i=F.get(n),F.set(o,i),F["delete"](n),B.set(a.element,a),t})["catch"](i)});return M.set(this,m),B.set(this.element,this),"IFRAME"===this.element.nodeName&&g(this,"ping"),$.isEnabled&&(c=function(){return $.exit()},$.on("fullscreenchange",function(){($.isFullscreen?u:l)(a,"event:exitFullscreen",c),a.ready().then(function(){g(a,"fullscreenchange",$.isFullscreen)})})),this}var r,a,s;return r=i,(a=[{key:"callMethod",value:function(e,t){var n=this,o=1<arguments.length&&void 0!==t?t:{};return new E(function(t,i){return n.ready().then(function(){u(n,e,{resolve:t,reject:i}),g(n,e,o)})["catch"](i)})}},{key:"get",value:function(e){var n=this;return new E(function(o,i){return e=t(e,"get"),n.ready().then(function(){u(n,e,{resolve:o,reject:i}),g(n,e)})["catch"](i)})}},{key:"set",value:function(e,n){var o=this;return new E(function(i,r){if(e=t(e,"set"),null==n)throw new TypeError("There must be a value to set.");return o.ready().then(function(){u(o,e,{resolve:i,reject:r}),g(o,e,n)})["catch"](r)})}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===c(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e)["catch"](function(){}),u(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");l(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e)["catch"](function(e){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=M.get(this)||new E(function(e,t){t(new Error("Unknown player. Probably unloaded."))});return E.resolve(e)}},{key:"addCuePoint",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.callMethod("addCuePoint",{time:e,data:n})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return $.isEnabled?$.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return $.isEnabled?$.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return $.isEnabled?E.resolve($.isFullscreen):this.get("fullscreen")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new E(function(t){M["delete"](e),B["delete"](e.element),e._originalElement&&(B["delete"](e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&e.element.parentNode.removeChild(e.element),e._window.removeEventListener("message",e._onMessage),t()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth");
}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}])&&e(r.prototype,a),s&&e(r,s),i}();return m||(x=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=t.length,i={};o>n;n++)if((e=t[n])&&e[1]in document){for(n=0;n<e.length;n++)i[t[0][n]]=e[n];return i}return!1}(),S={fullscreenchange:x.fullscreenchange,fullscreenerror:x.fullscreenerror},C={request:function(e){return new Promise(function(t,n){function o(){C.off("fullscreenchange",o),t()}C.on("fullscreenchange",o);var i=(e=e||document.documentElement)[x.requestFullscreen]();i instanceof Promise&&i.then(o)["catch"](n)})},exit:function(){return new Promise(function(e,t){var n,o;C.isFullscreen?(n=function i(){C.off("fullscreenchange",i),e()},C.on("fullscreenchange",n),(o=document[x.exitFullscreen]())instanceof Promise&&o.then(n)["catch"](t)):e()})},on:function(e,t){var n=S[e];n&&document.addEventListener(n,t)},off:function(e,t){var n=S[e];n&&document.removeEventListener(n,t)}},Object.defineProperties(C,{isFullscreen:{get:function(){return Boolean(document[x.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[x.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[x.fullscreenEnabled])}}}),$=C,function(e){function t(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))}var n=0<arguments.length&&void 0!==e?e:document;[].slice.call(n.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")).forEach(function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var n=d(e);h(o(n),n,e).then(function(t){return f(t,e)})["catch"](t)}catch(n){t(n)}})}(),function(e){var t=0<arguments.length&&void 0!==e?e:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",function(e){if(n(e.origin)&&e.data&&"spacechange"===e.data.event)for(var o=t.querySelectorAll("iframe"),i=0;i<o.length;i++)if(o[i].contentWindow===e.source){o[i].parentElement.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}}))}()),N}),!window.YT)var YT={loading:0,loaded:0};if(!window.YTConfig)var YTConfig={host:"http://www.youtube.com"};YT.loading||(YT.loading=1,function(){var e=[];YT.ready=function(t){YT.loaded?t():e.push(t)},window.onYTReady=function(){YT.loaded=1;for(var t=0;t<e.length;t++)try{e[t]()}catch(n){}},YT.setConfig=function(e){for(var t in e)e.hasOwnProperty(t)&&(YTConfig[t]=e[t])};var t=document.createElement("script");t.type="text/javascript",t.id="www-widgetapi-script",t.src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vfl_iHi5F/www-widgetapi.js",t.async=!0;var n=document.currentScript;if(n){var o=n.nonce||n.getAttribute("nonce");o&&t.setAttribute("nonce",o)}var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}())}catch(e){!function(){window.initFlipbook=function(){},$(function(){var e,t,n,o,i,r,a,s,u,c,l,d,f,h,p,g,v,m,b,y,_=$(document),w=$(window),k=$("#pageflip"),T="",P=45,x=32,S=!0,C=[],E=[1,void 0],F=0,I=function(){var p=$("#Template-legacy").html();M(),t=$(p),e=t.find(".FBLcontrolbar"),a=t.find(".FBLbook"),n=t.find(".FBLcontrolbar-button--toBeginning"),o=t.find(".FBLcontrolbar-button--back"),i=t.find(".FBLcontrolbar-button--forward"),r=t.find(".FBLcontrolbar-button--toEnd"),h=t.find(".FBLcontrolbar-input"),s=t.find(".FBLbook-pageContainer"),u=s.find(".FBLbook-left"),c=s.find(".FBLbook-right"),l=u.find(".FBLbook-left-content"),d=c.find(".FBLbook-right-content"),f=s.find(".FBLcontrolbar-inputContainer"),k.append(t),N(),z(),w.on("resize",B),B(),window.goToLabel=function(e){A(e)},"string"===$.type(window.flipbookSettings.IncDirPath)&&(T=window.flipbookSettings.IncDirPath)},B=function(){var e=_.width(),t=_.height();if(e!==p||t!==g){var n="undefined"===$.type(p);p=e,g=t;var o=g-P;a.css("height",o+"px");var i=p;b=o-2*x,y=i-2*x,s.css({width:j(y),height:j(b),"margin-top":j(x),"margin-left":j(x)}),n?A(1):R()}},M=function(){F=0,"undefined"!==$.type(window.flipbookSettings)&&"undefined"!==$.type(window.flipbookSettings.pages)&&$.each(window.flipbookSettings.pages,function(e,t){var n=T+"inc/pages/page"+e+".jpg",o=[];$.isArray(t.links)&&(o=t.links),F+=1,C.push({pageNumber:F,backgroundFile:n,linkList:o})}),v=!0,m=F%2!==1},N=function(){n.on("click",function(){A(1)}),o.on("click",function(){A(E[0]-1)}),i.on("click",function(){A(S?E[0]+1:E[0]+2)}),r.on("click",function(){A(F)})},A=function(e){var t=function(e,t){"back"===e?t?(n.removeClass("FBLcontrolbar-button--toBeginningInAct"),o.removeClass("FBLcontrolbar-button--backInAct"),n.addClass("FBLcontrolbar-button--toBeginning"),o.addClass("FBLcontrolbar-button--back")):(n.addClass("FBLcontrolbar-button--toBeginningInAct"),o.addClass("FBLcontrolbar-button--backInAct"),n.removeClass("FBLcontrolbar-button--toBeginning"),o.removeClass("FBLcontrolbar-button--back")):"forward"===e&&(t?(i.addClass("FBLcontrolbar-button--forward"),r.addClass("FBLcontrolbar-button--toEnd"),i.removeClass("FBLcontrolbar-button--forwardInAct"),r.removeClass("FBLcontrolbar-button--toEndInAct")):(i.removeClass("FBLcontrolbar-button--forward"),r.removeClass("FBLcontrolbar-button--toEnd"),i.addClass("FBLcontrolbar-button--forwardInAct"),r.addClass("FBLcontrolbar-button--toEndInAct")))},a=!1;return 2>e?(E=[1,void 0],t("back",!1),t("forward",!0),R(),a=!0):F>e||!m&&e===F?(E=S?[e,void 0]:e%2===1?[e-1,e]:[e,e+1],t("back",!0),t("forward",!0),R(),a=!0):m&&e===F&&(E=[e,void 0],t("back",!0),t("forward",!1),R(),a=!0),a&&D(),a},L=function(e){var t,n=C[e-1];if("undefined"===$.type(n.$loadedImg)){var o;"undefined"===$.type(n.promise)?(o=$.Deferred(),n.promise=o):o=n.promise,t=$("<img />",{src:n.backgroundFile}).css("display","none").appendTo($("body")).on("click",function(){var e=window.open(n.backgroundFile,"_blank");e&&e.focus()}).on("load",function(){n.$loadedImg=t,n.$img=void 0,o.resolve()}).on("error",function(){t.remove(),setTimeout(function(){L(e)},500)}),n.$img=t}return n},R=function(){var e,t,n,o,i,r,a,s,f=function(e,t,n,o,i,r,a){t.css({top:r,left:a}),t.append(e.$loadedImg),$.each(e.linkList,function(e,t){if("undefined"!==$.type(t.link)){var r,a=window.parseInt(t.top,10),s=window.parseInt(t.left,10),u=window.parseInt(t.width,10),c=window.parseInt(t.height,10);window.isNaN(a)||window.isNaN(s)||window.isNaN(u)||window.isNaN(c)||(a=Math.round(a*i),s=Math.round(s*o),u=Math.round(u*o),c=Math.round(c*i),r=t.is_internal?$('<a class="pf-hotspot" onclick="goToLabel('+t.link+')"></a>').css({top:j(a),left:j(s),width:j(u),height:j(c)}):$("<a></a>",{"class":"pf-hotspot",href:t.link}).css({top:j(a),left:j(s),width:j(u),height:j(c)}),r.on("click",function(e){var t=$(e.target).attr("href");if(!t||/^mailto:/.test(t))return!0;e.preventDefault();var n=window.open(t,"_blank");n&&n.focus()}),n.append(r))}}),e.$loadedImg.show()},h=0;u.add(c).children("img").detach(),l.add(d).html(""),E[0]&&E[0]<=F&&(e=L(E[0]),a=e.promise,h+=1),E[1]&&E[1]<=F&&(t=L(E[1]),s=t.promise,h+=1);var p,g;1===h&&a.done(function(){E[0]===e.pageNumber&&(i=O(e.$loadedImg,u),p=Math.floor(y/2-i.width/2),g=Math.floor((b-i.height)/2),f(e,u,l,i.widthMultiplier,i.heightMultiplier,g,p))}),2===h&&$.when(a,s).done(function(){if(E[0]===e.pageNumber&&E[1]===t.pageNumber){n=e.$loadedImg,o=t.$loadedImg,i=O(n,u),r=O(o,c);var a=i.width+r.width;p=Math.floor(y/2-a/2),g=Math.floor((b-i.height)/2);var s=p+i.width;f(e,u,l,i.widthMultiplier,i.heightMultiplier,g,p),f(t,c,d,r.widthMultiplier,r.heightMultiplier,g,s)}})},O=function(e,t){var n=e.height(),o=e.width(),i=Math.floor(o*(b/n)),r=Math.floor(n*(b/n)),a=y;return S||(a=Math.floor(y/2)),i>a&&(r=Math.floor(r*(a/i)),i=Math.floor(a)),e.add(t).css({width:j(i),height:j(r)}),{height:r,width:i,heightMultiplier:r/n,widthMultiplier:i/o}},z=function(){var e,t=function(){var t=h.val(),n=parseInt(t,10),o=!1;isNaN(n)||(o=A(n)),o||h.val(e),e=void 0,H()};h.on("click",function(){h.focus()}),h.on("focus",function(){"undefined"===$.type(e)&&(e=h.val()),h.val("")}),h.on("blur",t),h.keypress(function(e){13===e.which&&(h.trigger("blur"),t())})},D=function(){var e="";"number"===$.type(E[0])&&(e=E[0]),"number"===$.type(E[1])&&(e+=" - "+E[1]),H(e)},H=function(t){"undefined"===$.type(t)&&(t=h.val());var n=t.length;t.length<5&&(n=5);for(var o="",i=0;n>i;i+=1)o+="9";n%2>.1&&(o[Math.floor(n/2+1)]="-");var r=$("<span></span>").addClass("ControlBar-pageInputTest");r.text(o).appendTo(e);var a=r.width()+2;r.remove(),f.css({width:a}),h.val(t)},j=function(e){return e+"px"};try{I()}catch(q){alert(q.name+": "+q.message)}})}()}